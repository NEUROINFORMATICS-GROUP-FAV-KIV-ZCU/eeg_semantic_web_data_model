\documentclass{projekt}
\usepackage[none]{hyphenat}
\usepackage{url}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc} 
\usepackage{ae}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{pdfpages}
\usepackage[all]{xy}
\usepackage{array}
\usepackage{rotating}
\usepackage[czech]{babel}
\usepackage[activate={true,nocompatibility,all}, stretch=10, shrink=10, step=1, auto=true, draft=false]{microtype}
%\usepackage[total={17cm,28cm}, top=3cm, left=2cm, includefoot]{geometry}
\frenchspacing
\author{Filip Markvart}
\title{Datový model EEG/ERP portálu v prostředcích sémantického webu}
\titlet{} 
\titlett{}
\university{Západočeská univerzita v Plzni}
\faculty{Fakulta aplikovaných věd}
\department{Katedra informatiky a výpočetní techniky}
\subject{Diplomová práce}
\town{Plzeň}
\begin{document}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\textit{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\textit{#1}}{}}
\cfoot{\thepage}
\lhead{\leftmark}
\rhead{\rightmark}
\maketitle
\chapter*{Prohlášení}
\thispagestyle{empty}
Prohlašuji, že jsem diplomovou práci vypracoval samostatně a výhradně s~použitím citovaných pramenů.
\vskip 1.5em
V Plzni dne \today
\vskip 0.7em
\hskip 9cm Filip Markvart
\chapter*{Abstract}
\thispagestyle{empty}
{\bf Data model of EEG/ERP portal using semantic web resources}\\


This thesis describes transformation of neuroinformatic portal data model to semantic web resources. The first part is aimed to describe semantic web technologies and tools that are used to analyse and compare advantages and disadvantages of  relational and semantic web data models. The second part of thesis describes the proces of original data model transformation to a new proposed hybrid model. This part also introduces implemented tools that allows creating and visualizing a new data model. The last part of the work is aimed to testing the proposed data model, especially to the performance testing.





\pagenumbering{gobble} 
\tableofcontents


\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\textit{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\textit{#1}}{}}

\cfoot{\thepage}
\lhead{\leftmark}
\rhead{\rightmark}
\parskip 1em
\pagenumbering{arabic} 
\chapter{Úvod}
\hspace{0.65cm}EEG/ERP portál je webová aplikace sloužící výzkumným pracovníkům ke shromažďování a organizaci dat získaných při neuroinformatických experimen-\\tech v EEG laboratoři. Jejím cílem je ukládání naměřených dat v kontextu prováděného experimentu, který lze popsat rozsáhlou množinou různorodých údajů. Tato aplikace již prošla mnohaletým vývojem v jehož průběhu postupně docházelo ke změnám datového modelu kvůli přibývajícím požadavkům na uchovávaná data. Relační databáze, jež slouží jako persistentní úložiště, tak byla postupně rozšiřována o další tabulky, jejichž počet se k datu tvorby této práce pohybuje v řádu desítek. Většina realizací požadavků na ukládání dalších dat tak přímo znamená zásah nejen do databáze portálu, ale také do datové vrstvy, která ji využívá. V současné době tak databáze obsahuje velké množství tabulek uchovávajících různá data, která jsou ale ve smyslu sémantiky často příbuzná a existuje mezi nimi vazba, která je prostřednictvím relačního datového modelu velmi obtížně popsatelná. Zároveň lze očekávat, že budou přibývat požadavky na uchování dalších dat, která navíc nemusí mít jen homogenní strukturu (ve smyslu relační databáze), ale může se jednat~i~o~ množiny sémanticky příbuzných údajů – tzv. metadata, které budou vázány pouze k některým datům. Možnost ukládání strukturně heterogenních, ale sémanticky příbuzných metadat je tak dalším otevřeným problémem.

Cílem této práce je prozkoumání struktury a nalezení sémantiky dat v současném datovém modelu relační databáze portálu a následná úprava tohoto modelu do podoby, která by dovolovala uchovat jak sémantiku dat, kterou není možné relačním modelem vyjádřit tak dynamicky dodávat datům přídavná metadata, aniž by muselo docházet k větším zásahům do datového modelu portálu. Pro realizaci úpravy datového modelu budou v této práci využity prostředky tzv. sémantického webu, který poskytuje množství standar-\\dů a technologií pro uchovávání, organizaci a správu dat. Tyto technologie a nástroje zde budou popsány a na základě jejich analýzy budou vybrány prostředky, které se využijí pro implementaci úpravy zmiňovaného datového modelu. 
Poslední část práce se věnuje testování modifikovaného modelu, a~to především z výkonnostního hlediska. Díky této části by mělo být možné posoudit jak užitečnost samotné úpravy, tak i použitelnost a efektivnost získaného modelu pro potřeby EEG/ERP portálu.


\chapter{Sémantický web}
\hspace{0.65cm}Dnešní podoba webu, tak jak je všeobecně známa, je tvořena značným množstvím informací, které mají řadu autorů v podobě různých organizací či jednotlivců, jež se liší jak svým obsahem, tak i podobou publikace. Tyto informace jsou poměrně snadno přístupné díky jejich jednoznačné identifikaci prostřednictvím URI identifikátoru (za předpokladu, že jej známe). K usnadně-\\ní získávání dalších (často příbuzných) informací napomáhají tzv. hypertexto-\\vé odkazy, jež usnadňují přístup k dalším zdrojům informací odstraněním požadavku na uživatelovu znalost identifikátoru cílového zdroje. Samotné hypertextové odkazy tak sice zajišťují provázání jednoho informačního zdroje s jiným díky znalosti jeho URI identifikátoru, ale nenesou už žádné další informace, které by například uživateli poskytly další údaje o cílovém zdroji. 
Takováto podoba umožňuje získávání informací jak koncovým uživatelům webu, tak v omezené míře i vyhledávacím strojům, ale má své limity, neboť se v nepřeberném množství dat lze snadno ztratit, či se jen dostat k irelevantním informacím \cite{_1}.
Základním úkolem sémantického webu, jehož první myšlenky prezentoval v roce 2001 zakladatel konsorcia W3C Tim Berners-Lee, je umožnit aby, informace dostupné prostřednictvím webu byly srozumitelné nejen uživa-\\telům, ale také počítačům, jež tato data zpracovávají \cite{_2}. Hlavním cílem je tedy vývoj standardů a technologií, které by umožňovaly přesnější a~zároveň podrobnější vyhledávání, integraci dat a také automatizaci častých úkonů. 
Sémantický web je založen na několika principech, které budou níže uvedeny.

\begin {itemize}

\item \textbf{Jednoznačná identifikace entit prostřednictvím URI}

\hspace{0.65cm}Veškerá data reprezentující obvykle objekty reálného světa publiko-\\vaná prostřednictvím webu je možné jednoznačně odkazovat prostřed-\\nictvím identifikátoru URI. Díky této skutečnosti je tak možné realizovat i nepřímé odkazy na objekty, například osobu Petr Novák s e-mailem petr.novak@w3.org je možné identifikovat jako osobou, jejíž e-mail má URI mailto:petr.novak@w3.org.


\item \textbf{Zdroje i odkazy mezi nimi je možné typovat}

\hspace{0.65cm}Současná podoba webu je tvořena zdroji a odkazy, jež je vzájemně propojují. Zdroje, které jsou reprezentovány webovými dokumenty, jsou publikovány za účelem poskytnutí informací lidskému uživateli, který dokáže ze samotného obsahu dokumentu získat i některá jeho metadata (pokud jsou v určité formě součástí obsahu) a do jisté míry pak také vztah k ostatním dokumentům, na něž vedou případné odkazy. Stroje v podobě různých vyhledávačů či automatů pro shromažďování dat ale tuto schopnost nemají nebo je pro ně příliš náročná. Řešením sémantického webu je typování jak samotných zdrojů, tak i odkazů, které je provazují. Díky této skutečnosti je pak možné webovým doku-\\mentům dodávat metadata, jako např. autora, verzi či závislost na jiném dokumentu. Z hlediska typování odkazů je například možné jeden webový zdroj označit pouze jako odlišnou verzi jiného zdroje.


\item \textbf{Tolerance neúplných informací}

\hspace{0.65cm}U současně podoby webu může nastat situace, kdy některý zdroj není dostupný. V takovém případě uživatel ztrácí přistup k danému dokumentu, ale díky koncepci webu není nikterak ohrožena dostupnost ostatních zdrojů. V případě sémantického webu se situace nemění, nedostupnost některého zdroje není žádnou překážkou, neboť nástroje sémantického webu zpracovávají pouze ty informace, které jsou dostupné, a z těch vytvářejí závěry. V konečném důsledku je tak možné dojít při zpracovávání dat ke stejným výsledkům, jako v případě, kdy jsou zpracovávány jen některé vybrané informace, jejichž rozsah je explicitně definován.

\item \textbf{Zpracování neověřených dat}

\hspace{0.65cm}Při zpracovávání informací pocházejících z neověřených zdrojů je možné dohledávat prostřednictvím typovaných odkazů důvěryhodná data, jejichž obsah a odkazy poslouží jako ověřovací prostředek. Tento princip je možné uvést na následujícím příkladu. Aplikace zpracovávající data sémantického webu vyhledá informace, přičemž je kladen požadavek na vysokou pravděpodobnost správnosti výsledku. Pokud některá část nalezených informací pochází z neověřeného zdroje, je možné vyhledávat například jejich autora v odkazech zdrojů, které jsou důvěryhodné či ověřené. V případě úspěchu nalezení takového odkazu u více různých zdrojů je pak možné považovat zkoumaný zdroj s vysokou pravděpodob-\\ností rovněž za důvěryhodný a tím zajistit plnění požadavků na výsledek.

\item \textbf{Podpora paralelního vývoje dat}

\hspace{0.65cm}V průběhu času nezřídka nastávají situace, kdy autoři, či skupiny autorů publikují obdobná data na různých místech nebo v odlišném čase. Obsah těchto dokumentů se může navíc lišit svým jazykem, či použitou terminologií, ač význam bude shodný. S využitím prostředků sémantického webu je ale možné prostřednictvím typovaných odkazů zajistit provázanost významově obdobných či na sebe navazujících dat i přes překážku rozdílnosti jejich podoby zápisu. Navíc je také možné dodávat nové informace bez nutnosti úpravy původních dat, která tím pádem nezmění svoji strukturu \cite{_1}.

\end{itemize}


\section{Architektura sémantického webu}
\hspace{0.65cm}Architektura sémantického webu sestává z více oddělených vrstev, mezi nimiž je zajištěna zpětná i dopředná kompatibilita \cite{_3}. Nejnižší vrstva je tvořena dvěma technologickými standardy – URI identifikátory sloužícími k jednoznačnému pojmenování zdrojů dat a Unicode kódování mezinárodní znakovou sadou. Druhou vrstvu architektury, jež je patrná z obrázku 2.1, reprezentuje značkovací jazyk XML (Extensible Markup Language), který umožňuje tvorbu strukturovaného dokumentu za užití vlastních značek. Tato vrstva zároveň zajišťuje definici XML schématu včetně jmenných prostorů. RDF~+~rdfschema, jež následuje, je klíčovou vrstvou sémantického webu neboť dovoluje tvorbu vazeb a vztahů mezi jednotlivými zdroji, které jsou typované spolu s odkazy. Je tak možné definovat libovolné vztahy mezi objekty či jejich kategoriemi bez nutnosti specifikace významu samotných vazeb či objektů. Díky RDF schématu je vytvářena základní sémantika datového modelu, která už definuje význam některých elementů jako třídy či podtřídy. 
Vrstva ontologického slovníku, zastoupená jazykem OWL, nabízí pokročilou reprezentaci znalostí na úrovni deskripční logiky a umožňuje tak vytvářet složitější struktury sloužící k popisu různých vlastností objektů \cite{_2}. Poslední vrstvou, která je jako všechny předchozí zmíněné konsorciem W3C standardizovaná, jsou digitální podpisy. Ty poskytují možnosti například pro detekci různých verzí dokumentů. Zbylé výše znázorněné vrstvy slouží pro definice a vyhodnocování odvozovacích pravidel a v současnosti jsou ve fázi vývoje \cite{_1}.

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.62]{architektura.pdf}
\caption{Architektura sémantickém webu \cite{_1}}
\end{center}
\end{figure}

Vrstvení jazyků sémantického webu je podstatné pro úroveň expresivity znalostního modelu, neboť s rostoucí vyjadřovací možností jazyka také roste složitost dotazovacích operací nad modelem. Je tedy nutné před započetím tvorby modelu nejprve zjistit jeho požadovanou expresivitu a podle té zvolit pro zápis dat jazyk, který ji dovoluje obsáhnout. Využívá se tedy skutečnosti, že jazyk vyšší vrstvy zahrnuje vyjadřovací schopnosti vrstev nižších\cite{_2}. Další podkapitoly se budou zabývat podrobněji těmito zmíněnými technologiemi.


\section{XML}
\hspace{0.65cm}XML (eXtensible Markup Language) je značkovací jazyk sloužící pro popis hierarchických struktur textových dokumentů prostřednictvím tzv. tagů. Tag je konstrukce, jež slouží k počátečnímu a koncovému ohraničení společně definovaného elementu. Tag lze chápat jako prostředek pro dodání metadat k textové struktuře, kterou ohraničuje. Příkladem může být následující zápis {\it <prijmeni>Novák</prijmeni>}, kde elementu {\it Novák} je dodána meta informa-\\ce, že se jedná o příjmení. Samotné XML ale nedefinuje žádný sémantický význam tagů, slouží pouze pro specifikaci syntaxe na úrovní XML dokumentu. Pro definici (zejména hierarchické) struktury XML dokumentu slouží XML Schema, které umožňuje zápis pravidel, jež musí cílový dokument dodržovat pro zachování své validity. Ze strany sémantického webu ale nemají pravidla XML Schema žádný sémantický význam a slouží tak pouze pro definici struktury a syntaxe. Zmíněné schéma také definuje základní datové typy (čísla, řetězce, čas a pod.), které nabývají významu v sémantických jazycích jako je RDF \cite{_3}.


\section{RDF}
\hspace{0.65cm}Technologický základ sémantického webu tvoří jazyk RDF (Resource Description Framework), jenž slouží jako obecný rámec pro popis, výměnu a opětovné použití metadat \cite{_33}. Tento rámec poskytuje jednoduchý model sloužící pro popis zdrojů jenž je nezávislý na jeho konkrétní implementaci \cite{_4}. Samotné informace o objektu jsou realizovány prostřednictvím tvrzení, která se označují jako trojice (anglicky triple). Každou trojici tvoří spolu subjekt, predikát a objekt. Subjekt je libovolný objekt identifikovatelný prostřednictvím URI, který se snažíme prostřednictvím trojice popisovat, zaznamenat nějakou jeho vlastnost. Tato vlastnost se popisuje prostřednictvím predikátu, který vede ve směru od subjektu k objektu, přiřazuje tedy subjektu nějaký objekt prostřednictvím této vlastnosti. Cílový objekt pak představuje hodnotu, které předchozí objekt nabývá pro daný predikát. 
Tento princip je možné znázornit na jednoduchém tvrzení, zapsaném větou „Martin staví dům.“ Subjektem trojice potom bude Martin, predikátem staví a objektem dům, tak jak je znázorněno na obrázku 2.2. 
\\
\vspace{0.1cm}

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.9]{trojice.pdf}
\caption{Příklad RDF trojice}
\end{center}
\end{figure}

Dle definovaného standardu \cite{_5} je možné, aby objektem byl jiný subjekt. Díky této skutečnosti je možné jednotlivé trojice spojovat do většího celku, který ve výsledku tvoří strukturu orientovaného grafu, kterou lze označit jako model \cite{_3}. Jednoduchý model tvořený dvěma trojicemi lze vytvořit využitím dalšího tvrzení „Dům stojí v Plzni.“ V předchozí trojici pak bude dům subjektem namísto objektu a dojde tak ke spojení dvou trojic (za předpokladu že v obou tvrzeních je myšlen stejný fyzický dům) tak, jak je znázorněno na obrázku 2.3. 

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.9]{miniStrom.pdf}
\caption{Příklad jednoduchého RDF modelu}
\end{center}
\end{figure}


Z hlediska implementace mohou být uzly orientovaného grafu datového modelu tvořeny URI identifikátorem, anonymním listem nebo literálem \cite{_6}. URI identifikátor obsahuje pouze adresu zdroje v textové podobě ve znakové sadě Unicode a zastupuje tak konkrétní jedinečný objekt. Anonymní list (anglicky blank node) je prvek nahrazující URI identifikátor při absenci unikátní adresy zdroje. Tato entita přestavuje zdroj, který je sice v rámci grafu popisován prostřednictvím trojic, ale není potřeba (často z hlediska významu), aby byl dostupný i vně grafu. S URI má společné to, že musí nést adresu zdroje (její syntaxe není implicitně definována), ale liší se skutečností, že tato adresa musí být unikátní pouze v rámci obalujícího modelu, nikoliv vně grafu. Může tak nastat situace, že dva odlišné modely budou obsahovat (ze syntaktického hlediska) dva stejné anonymní uzly, což v případě URI možné není (při respektování specifikace). Tento list tak může představovat anonymní objekt sloužící k vytvoření vazby mezi jinými objekty, které jsou z hlediska sémantiky významné \cite{_5}. Jako příklad je možno uvést následující tvrzení. „Martinův přítel zná předpověď počasí. Počasí bude deštivé.” Zjednodušeným převodem předchozích vět na trojice v podobě subjekt – predikát – objekt získáme: {\it Martin – má – přítel}, {\it přítel – zná – počasí},  {\it počasí – bude – deštivé.} 
Subjekt, resp. objekt, přítel zde může být reprezentován anonymním listem v případě, že jedinou signifikantní informací (z vnějšího pohledu na datový model) je Martinova získaná znalost počasí, nikoliv už jeho přítel, jenž mu ji zprostředkoval. 
Poslední možnou reprezentací entity trojice je literál, jenž nese Unicode textový řetězec, který slouží pro zápis koncové informace (užitečné pro lidského čtenáře). Literál může také navíc obsahovat položku pro označení jazyka, ve kterém je textová informace zapsána \cite{_34}. 
\\
\\
Pro komponenty každé trojice grafu platí následující pravidla \cite{_6}:

\begin {itemize}

\item \textbf{subjekt} - může být tvořen URI identifikátorem nebo anonymním listem
\item \textbf{predikát} - může být tvořen pouze URI identifikátorem
\item \textbf{objekt} - může být tvořen URI, anonymním listem nebo literálem

\end{itemize}


Pro zápis trojic RDF grafu je sice možné využít grafické podoby, ale pro vyjádření sémantiky webových zdrojů je nejvhodnější využít syntaxe jazyka XML. Níže uvedená ukázka kódu reprezentuje XML zápis trojice z obrázku 2.2.

\begin{verbatim}
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
  <rdf:Description rdf:about="http://www.w3.org/Person/Martin">
    <dc:stavi>dům</dc:stavi>
  </rdf:Description>
</rdf:RDF>

\end{verbatim}

Samotné RDF nedefinuje trojicím ani jejím částem sémantiku, ale dovoluje vyjádřit základní vztahy náležitosti prvků do kategorie prostřednictvím kontej-\\nerů a kolekcí (např. {\it rdf:Bag}, {\it rdf:List}) \cite{_2}. Pro dodání základní sémantiky slouží schéma popsané v následující podkapitole.

\section{RDFS}
\hspace{0.65cm}RDF Schema (Resource Description Framework Schema) funguje jako základní jazyk pro tvorbu ontologií s velmi jednoduchou sémantikou. Toto schéma rozšiřuje jazyk RDF o možnosti vyjádření vlastností objektů, konstruk-\\ce tříd objektů a popis jejich hierarchie \cite{_2}. 
Prostředky jazyka RDFS umožňují především vyjádření vztahů mezi zdroji, které je možné rozdělit na dvě skupiny – třídy a vlastnosti.

\subsection{Třídy}
\hspace{0.65cm}Skupiny zdrojů je možné rozčleňovat do skupin označovaných jako třídy (classes), jejichž členové se nazývají instance třídy. Na úrovni RDFS se rozlišují třídy od svých instancí a každá třída jich může mít neomezený počet. Dvě třídy mohou mít navíc shodnou množinu instancí tříd a zároveň tyto třídy mohou být navzájem odlišné. Bude-li se tedy například definovat třída {\it A} jako osoby pracující v kanceláři {\it 1} a třída {\it B} jako osoby žijící ve městě {\it X}. Potom je možné, aby různé třídy {\it A} a {\it B} měly stejné množiny instancí za předpokladu, že každá osoba pracující v kanceláři {\it 1} bydlí ve městě {\it X}. Pro třídy platí také dědičnost – bude li třída {\it B} podtřídou {\it A}, pak všechny instance {\it B} jsou zároveň instancí třídy {\it A}. Koncept tříd RDFS definuje následující konstrukce \cite{_7}:

\begin {itemize}

\item \textbf{rdfs:Resource} - představuje RDF zdroj, který je obalující třídou všech prvků – je tedy nejvýše postavenou rodičovskou třídou, {\it rdfs:Resource} je zároveň instancí {\it rdfs:Class}
\item \textbf{rdfs:Class} - reprezentuje rodičovskou třídu všech RDF tříd zdrojů, čímž je {\it rdfs:Class} instancí {\it rdfs:Class} (sebe sama)
\item \textbf{rdfs:Literal} - třída je instancí {\it rdfs:Class}, která slouží pro reprezentaci RDF literálů, a je podtřídou {\it rdfs:Resource}
\item \textbf{rdfs:Datatype} - je obalující třídou pro datové typy, které jsou její instancí, {\it rdfs:Datatype} je zároveň podtřídou i instancí {\it rdfs:Class} a každá její instance je podtřídou {\it rdfs:Literal}
\item \textbf{rdf:XMLLiteral} - je třída XML literálů, která je podtřídou {\it rdfs:Literal} a instancí {\it rdfs:Datatype}
\item \textbf{rdf:Property} - představuje rodičovskou třídu všech definovaných vlast-\\ností a je instancí {\it rdfs:Class}


\end{itemize}


\subsection{Vlastnosti}
\hspace{0.65cm}Vlastnosti (properties) slouží k vyjádření vztahu mezi dvěma zdroji – na úrovni trojice mezi subjektem a objektem. Koncept RDFS definuje následující vlastnosti:

\begin {itemize}


\item \textbf{rdfs:range} - je instancí {\it rdf:Property}, která slouží k vyjádření, že objekt, jehož predikát má definovaný {\it  rdfs:Range X}, bude zároveň instancí {\it X}, například z následujících trojic {\it A – rdfs:Range B a X – A – C} bude vyplývat, že {\it C} je instancí {\it B}, 
zároveň platí, že objekt s definovaným predikátem může být instancí více tříd (pokud má predikát definováno více {\it  rdfs:Range}).

\item \textbf{rdfs:domain} - představuje instanci {\it rdf:Property}, která vyjadřuje, že zdroj (subjekt), jehož predikát má definovaný {\it rdfs:Domain X}, bude také instancí {\it X}. Tento zdroj může být jako v předchozím případě instancí více tříd při definování více {\it rdfs:Domain}.
\item \textbf{rdf:type} - slouží k definování, že zdroj (subjekt) je instancí třídy defino-\\vané objektem, pokud tedy platí {\it A rdf:type B}, pak {\it A} je instancí {\it B}.
\item \textbf{rdfs:subClassOf} - je vlastnost sloužící k vyjádření náležitosti instancí jedné třídy jako instancí jiné třídy. Pokud platí {\it A rdfs:subClassOf B}, pak {\it A} je podtřídou {\it B} a všechny instance třídy {\it A} jsou zároveň instancí třídy {\it B}. Tato vlastnost je navíc tranzitivní, takže popsanou dědičnost je možné řetězit do libovolné délky.
\item \textbf{rdfs:subPropertyOf} - slouží k vyjádření dědičnosti vlastností, pokud platí {\it P1 subproperty P2}, pak pro trojici {\it A P1 B} platí, že subjekt {\it A} má pro vlastnost {\it P1} i {\it P2} pro objekt {\it B}.
\item \textbf{rdfs:label} - umožňuje zdroji (subjektu) přidat textovou informaci jako lidsky čitelnou náhradu pro označení zdroje.
\item \textbf{rdfs:comment} - dovoluje přidat zdroji popisek, který usnadňuje lidské-\\mu uživateli pochopit význam zdroje \cite{_7}.

\end{itemize}

Vyjádření popisovaných vztahů mezi jednotlivými vlastnostmi a třídami je patrné z obrázku 2.4. Rámec RDFS dále ještě definuje vlastnosti a třídy pro kontejnery a kolekce, které je možné naleznout v \cite{_7}.

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=1.4]{rdfs.pdf}
\caption{Vztahy mezi vlastnosmi a třídami RDFS}
\end{center}
\end{figure}

\section{Ontologie}
\hspace{0.65cm}Znalostní modely, jež jsou popisované vyššími jazyky sémantického webu se označují jako ontologie. Ontologie ovšem není pouze abstraktním znalostním modelem, ale slouží i jako prostředek k získání interoperability, tedy schopnosti vzájemné spolupráce oddělených systémů na úrovni sdílení dat a poskytování služeb \cite{_2}. Definicí ontologie v informatice, kterou uvádí Thomas Gruber, zakladatel ontologického inženýrství, je „formální specifikace sdílené konceptu-\\alizace“ \cite{_8}. V této definici je formálností myšleno vyjádření znalostí prostřed-\\nictvím jazyka s formálním a logickým základem. Pojem konceptualizace znamená definování konceptů na dané úrovni abstrakce, jež odpovídá požadav-\\kům pro model domény. Tuto doménu pak vytvářejí osoby, pro které je daná ontologie závazně (vzájemnou dohodou) definovaná jako prostředek pro popis dat, jež musí všichni členové dodržovat \cite{_2}. V důsledku se tak jedná o tvorbu abstraktního modelu v určené oblasti, kde se definují pojmy společně se vzájemnými vztahy vyjádřenými logickým jazykem. Cílem explicitní specifi-\\kace pojmů a vztahů je snaha o porozumění znalostně orientovaných systémů \cite{_9}.
Ontologie lze z hlediska vývoje rozčlenit do tří kategorií:

\begin {itemize}

\item \textbf{Terminologické (lexikální)} - slouží především k zachycení taxonomie definovaných pojmů a popisu jejich vzájemných vztahů. Jejich realizace se často podobá slovníkům synonym.
\item \textbf{Informační} - zastávají roli služby stojící nad databází, která zajišťuje vyšší míru abstraktnosti při databázovém dotazování.
\item \textbf{Znalostní} - dovolují reprezentaci znalostí zejména v oblasti umělé inteligence, kde jsou chápány jako logické teorie, jejichž elementární prvky se definují prostřednictvím formálního jazyka. Využívají se přede-\\vším ve znalostně orientovaných systémech \cite{_9}.

\end{itemize}

Dle míry formalizace a cílového předmětu konceptualizace se rozlišují 4~kategorie ontologie:

\begin {itemize}

\item \textbf{Doménové} - zabývají se specifikací určité oblasti – domény.
\item \textbf{Generické} - blíží se svou podobou doménovým, ale pokrývají širší množinu dat a zachycují tak obecnější koncepty, nejdou ovšem do příliš velké hloubky, popisují například realitu prostřednictvím vzájemných časoprostorových pozic objektů, často se snaží zachytit všeobecné zna-\\losti, které odpovídají běžně používaným lidským vědomostem.
\item \textbf{Úlohové} - tyto ontologie jsou zaměřené zejména na odvozovací procesy namísto záznamu znalostí a slouží především jako modely pro řešení určitých problémů – např. pro diagnostiku či plánování.
\item \textbf{Aplikační} - jsou většinou vázány na specifické aplikace, kde spojují doménovou a úlohovou ontologii \cite{_10}.
\end{itemize}

Pro realizaci popsaných ontologií je zapotřebí jazyka, který by dovoloval formální zápis. Výše uvedené schéma RDFS je z hlediska sémantického webu základní podobou ontologie, kterou je dále možné rozšiřovat například využi-\\tím jazyků jako je OWL.


\section{OWL}
\hspace{0.65cm}OWL (Web Ontology Language) je jazyk sémantického webu navržený pro získávání a zpracování informací prostřednictvím strojů (aplikací), namísto současného stavu, kdy jsou informace určeny pouze pro lidské uživatele. Tento jazyk využívá technologií XML, RDF a RDFS jakožto primárních prostředků pro tvorbu ontologických slovníků se základní sémantikou, kterou sám dále rozšiřuje o možnosti vyjádření složitějších výrazů a jejich vzájemných vztahů \cite{_35}. Mezi tato rozšíření patří například kardinalita, univerzální a existenční kvantifikace, matematické charakteristiky vlastností jako např. tranzitivnost, disjunktnost či inverze a anonymní třídy (sloužící  často k jednorázovému využití) \cite{_12}.
Vzhledem k tomu, že OWL nabízí poměrně pokročilou úroveň expresivity jazyka, je nutné brát v potaz výpočetní složitost algoritmů odvozo-\\vacích a usuzovacích nástrojů pracujících s vytvořenou ontologií. Z tohoto důvodu jsou specifikovány 3 varianty jazyka OWL, které se vzájemně liší mírou expresivity \cite{_2}:


\begin {itemize}

\item \textbf{OWL Lite} - umožňuje definovat hierarchický systém tříd s jednoduchým omezením vazeb \cite{_11}. Dále poskytuje prostředky pro zaznamenání syme-\\trické, tranzitivní a inverzní vlastnosti a také jednoduchá omezení na velikosti množin vybraných objektů modelu – kardinalitu, která je ale v této verzi omezena pouze na přípustné hodnoty 0 a 1 \cite{_2}.
\item \textbf{OWL-DL} - tato varianta poskytuje maximální možnou expresivitu jazyka, u které je stále splněna podmínka rozhodovací úplnosti (jakékoliv rozhodovací pravidlo je možné použít na kteroukoliv část ontologie) a~výpočetní splnitelnosti (veškeré výsledky odvozovacích operací budou získány v konečném čase) \cite{_2}. OWL-DL nabízí veškeré konstrukce jazyka OWL, které ale podléhají určitým omezením při jejich použití, např. není možné využít omezení kardinality pro vlastnosti definované jako tranzitivní. Z hlediska množiny dostupných jazykových konstrukcí dovoluje tato varianta oproti OWL Lite definovat navíc sjednocení, disjunkce a doplňky tříd nebo libovolné omezení kardinality \cite{_11}.
\item \textbf{OWL-Full} - je variantou, která poskytuje maximální možnou expresivi-\\tu, ke které využívá stejně jako předchozí verze všech konstruktů jazyka OWL. Tato varianta neklade žádná omezení pro vyhodnocovací pravidla, díky čemuž ale není možné zaručit výpočetní splnitelnost. OWL-Full dovoluje ještě navíc uživatelskou změnu sémantického významu nativně definovaných konstrukcí jazyků RDF a OWL. Tato verze ovšem není prakticky příliš využitelná, neboť v současnosti nejsou známé žádné efektivní algoritmy, které by dovolovaly nad modelem dat provádět usuzovací operace využívající všech vlastností OWL-Full \cite{_2}.

\end {itemize}

Každá verze OWL je rozšířením svého předchůdce, díky čemuž je ontologie vyjádřená v jednodušší variantě platná i pro verzi vyšší, např. tedy každá ontologie zapsaná v OWL Lite bude plně validní v OWL-DL (což ale obráceně neplatí) \cite{_11}.
Mezi typické odvozovací úlohy v kontextu OWL patří například odvozování taxonomické struktury, ověřování příslušnosti instance ke třídě, klasifikace individuí vzhledem k definované ontologii či testování splnitelnost logické teorie \cite{_12}.


\section{SPARQL}
\hspace{0.65cm}Základním prostředkem pro dotazování nad daty sémantického webu je jazyk SPARQL (SPARQL Protocol and RDF Query Language). Tento jazyk standardizovaný konsorciem W3C umožňuje vytvářet dotazy nad RDF grafy prostřednictvím vzorů RDF trojic spolu s logickými operacemi konjunkce a disjunkce \cite{_2}. Konstrukce těchto dotazů je sice složitější než v případě SQL dotazů nad relačními databázemi, ale umožňuje ze zdrojové ontologie získávat komplexnější informace \cite{_3}. SPARQL dotaz se skládá ze 3 základních částí. První část označovaná jako prolog slouží k definování jmenných prostorů a prefixů, které budou v dalších částech dotazu použity. Druhou částí je hlavička dotazu, kde se určuje, jaký typ dotazu se bude v další části provádět. Třetí a hlavní část SPARQL slouží k definování cílové ontologie (RDF grafu) pro dotazování (v případě, že cílový graf je implicitně definován, je tato část vynechána) a proměnných včetně samotných vyhledávacích podmínek v podobě grafových vzorů (graph pattern)\cite{_2}.
Tento jazyk částečně vychází ze SQL, což je patrné i na jeho syntaxi. Např. klauzule FROM slouží pro výběr cílového grafu pro dotazování nebo klíčové slovo WHERE slouží pro uvození zápisu souboru RDF trojic – tzv. grafového vzorce, jenž je jádrem dotazu. Vyhodnocování dotazu poté probíhá takovým způsobem, že dochází k~porovnávání grafového vzorce s RDF daty \cite{_13}. 
Pro názornost je níže uveden zápis jednoduchého SPARQL dotazu, který slouží k vyhledání jmen a příjmení všech osob v implicitně zadaném grafu.

\begin{verbatim}
PREFIX zcu: <http://www.zcu.cz/ns/students>
SELECT ?name ?surname
WHERE  {
     ?person x zcu:Person.
     ?person zcu:Name ?name.
     ?person zcu:Surname ?surname
}
\end{verbatim}


SPARQL podporuje 4 druhy dotazů, které se vzájemně liší v typu vráceného výsledku \cite{_13}.

\begin {itemize}

\item \textbf{SELECT} - tento typ dotazu nejvíce odpovídá běžnému SQL dotazování, neboť zadaným proměnným nastaví příslušné hodnoty a ty pak vrací v podobě tabulky \cite{_14}.
\item \textbf{ASK} - dotaz typu ASK vrací pouze TRUE/FALSE odpověď a slouží k~otestování, zda zadaný grafový vzorec má pro daný graf řešení. ASK tak slouží k testování vytvořených logických hypotéz, ale neumožňuje už vrácení konkrétních řešení \cite{_32}.
\item \textbf{DESCRIBE} - dotazy typu DESCRIBE navrací podgraf dotazovaného grafu, který obsahuje všechny dostupné informace o zdroji, jenž vyhověl zadanému grafovému vzoru \cite{_13}. Při vyhodnocování dotazů dochází ke porovnávání zdrojů získaných ze vstupního grafového vzoru se zdroji celého grafu. Pro nalezené odpovídající zdroje jsou pak získány všechny vázané relevantní informace, ze kterých je ve výsledku složen navrácený graf \cite{_14}.
\item \textbf{CONSTRUCT} - tento speciální druh dotazu navrací jako výsledek nový RDF graf dle definované grafové šablony. Výsledný RDF graf je konstruován podle částečných řešení dotazovací sekvence, jež vyplňují proměnné ze zadané grafové šablony, na základě které jsou tvořené výsledné trojice pro cílový navrácený graf \cite{_32}. Tato dotazovací operace se do jisté míry podobá XSLT transformaci XML dokumentu.

\end {itemize}

\chapter{EEG/ERP portál}
\hspace{0.65cm}EEG/ERP portál je webová aplikace sloužící vědeckým pracovníkům k ukládání, stahování a vyhledávání EEG/ERP experimentů včetně jejich přidružených metadat. Tato aplikace je vyvíjena pro Katedru informatiky a výpočetní techniky Západočeské univerzity v Plzni. Portál funguje jako komplexní aplikace, která neslouží jen ke zpracování dat experimentů, ale poskytuje také funkce pro správu uživatelů, kteří mohou mít odlišné role a~také se sdružovat do výzkumných skupin, jež mohou vzájemně spolupracovat. Portál je vyvíjen jako open-source aplikace pod GNU licencí. Jeho základní funkcionalitu je možné shrnout do několika následujících bodů \cite{_15}:

\begin {itemize}

\item \textbf{Ukládání, aktualizace a stahování naměřených dat experimentů včetně metadat} 

\item \textbf{Registrace nových uživatelů, jejich sdružování do skupin včetně určení rolí} 
\item \textbf{Sdílení dat a metadat experimentů mezi výzkumnými skupina-\\mi}
\item \textbf{Publikační a diskuzní prostředky pro uživatele v podobě článků a jejich komentářů }
\item \textbf{Fulltextové vyhledávání nad celou databází}
\item \textbf{Přihlašování uživatelů skrze interní účty či prostřednictvím sociálních sítí}
\item \textbf{Rezervace výzkumné laboratoře}

\end {itemize}

\section{Technologie portálu}
\hspace{0.65cm}Z technologického hlediska je EEG/ERP portál webová aplikace se stan-\\dardní třívrstvou architekturou MVC (Model – View - Controler) - viz obrázek 3.1 běžící na aplikačním serveru Jetty. Portál je vyvíjen v programovacím jazyce Java EE, přičemž při implementaci je využito několika frameworků, zejména pak Spring.

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.6]{mvc.pdf}
\caption{Architektura MVC}
\end{center}
\end{figure}


Prezentační vrstva je realizována prostřednictvím technologie JSP (Java Servlet Pages), zabezpečení a přihlašování uživatelů pak využívá frameworku Spring Security. Dále je pluginem Spring Social zajištěno prostřednictvím definovaného API propojení webové aplikace se sociálními sítěmi Facebook a~LinkedIn. Spring Social také slouží k integraci možnosti přihlášení uživatelů prostřednictvím účtů zmíněných sociálních sítí.

Aplikační vrstva využívá zejména technologií Spring MVC a Spring Core a~zajišťuje zpracování veškerých uživatelských požadavků pro ukládání a čtení dat, která získává z datové vrstvy. Persistentní data jsou uložena v relační databázi Oracle 11g, přičemž k jejich zpracování je použito objektově-relační mapování frameworku Hibernate. Ten využívá XML souborů pro mapování tabulek na POJO objekty, jež tvoří persistentní vrstvu. Framework Hibernate zároveň umožňuje odstínit datovou vrstvu od implementační závislosti na zvolené databázi, jejíž případná obměna by následně nevyžadovala příliš velké zásahy do zdrojových kódů portálu \cite{_16}.


\section{Persistentní data}
\hspace{0.65cm}Databáze Oracle, jež slouží k ukládání persistentních dat, uchovává veškeré naměřené hodnoty zaznamenaných experimentů. Tato data mají z pohledu databáze podobu binárních souborů o velikosti řádu desítek až stovek MB. Tato naměřená data by ovšem ztrácela hodnotu, kdyby byla uchovávána jako samostatná. Proto databáze obsahuje další tabulky, jež nesou metadata prováděných experimentů. Kontext experimentu je popsán především hodno-\\tami o prostředí laboratoře a zúčastněných osob. Prostředí laboratoře je charakterizováno například teplotou, použitým hardwarem a softwarem. Nedíl-\\nou součástí popisu experimentu je také scénář zaznamenávající samotný postup měření, který má podobu binárního souboru. Dalšími důležitými daty jsou také informace o použitých elektrodách měřících EEG, u kterých je důležitý jejich typ a umístění. Co se týče osob účastnících se experimentu, zaznamenává se měřící a především měřená osoba. U osob jsou uchovávány osobní a kontaktní údaje a také data nutná pro přihlašování do portálu. Osoby se mohou sdružovat do různých výzkumných skupin, jež nesou seznam svých členů a vlastníka. Podstatným údajem jsou také identifikátory skupin vázané k hodnotám číselníků charakterizující vlastnosti experimentu, které tak napomáhají výzkumníkům zaznamenávat vlastní vybrané předdefinované hodnoty. Další tabulky ještě zaznamenávají historii stahování, zveřejňované články a jejich textové komentáře. Rezervace laboratoře obsahuje údaje o~počátečním a koncovém času události a také rezervující osobě. 


\chapter{Relační datový model}
\hspace{0.65cm}Jak již bylo zmíněno v předchozí kapitole, webová aplikace EEG/ERP portál uchovává data v relační databázi – lze na ně tedy pohlížet jako na relační datový model. Vzhledem k tomu, že další část práce se bude zabývat úpravou současného datového modelu portálu, bude vhodné uvést zde základní popis a vlastnosti obecného relačního modelu.

Základem relačního modelu dat, který byl popsán již v roce 1970, je takzvaná relace neboli tabulka \cite{_17}. Z matematického hlediska můžeme {\it n}-ární relaci chápat jako libovolnou podmnožinu kartézského součinu {\it n} množin \cite{_18}. Množinou je zde myšlena doména jednoho konkrétního sloupce tabulky, tedy všechny přípustné hodnoty, kterých může libovolný řádek v daném sloupci tabulky nabývat. Ve výsledku tedy máme tabulku tvořenou {\it n} sloupci ({\it n}-ární relace) a {\it x} řádky, kde každý řádek reprezentuje jeden prvek z množiny tvořené kartézským součinem {\it n} množin. V případě, že by každá z {\it n} množin byla konečná (řádky daných sloupců mohou nabývat konečného počtu hodnot), bude konečný i kartézský součin těchto množin a tabulka tak může mít jen konečný a tudíž omezený počet neopakujících se řádek (duplicity v tabulce neuvažujeme, neboť by neměly žádný smysl – jednalo by se o redundantní data) \cite{_18}.

Uvedená reprezentace matematického pojmu relace jako databázové tabul-\\ky je základem takzvaného schéma relace. Toto schéma obsahuje název relace, jména všech atributů (sloupců tabulky) a jejich integritních omezení – tedy domény \cite{_19}. Domény jednotlivých atributů jsou v systémech řízení báze dat reprezentovány datovými typy, tedy např. číselný typ, textový řetězec či datum. Tabulku lze tedy chápat jako určitou formu znázornění relace \cite{_21}.
Jedna tabulka slouží zpravidla k uchování údajů o jednom druhu objektů \cite{_20}. \\V případě portálu tak například tabulka {\it Person} uchovává pouze data o~oso-\\bách – jeden řádek neboli záznam tedy reprezentuje údaje o jednom člověku, které jsou strukturované do sloupců, např. jméno, příjmení, e-mail apod. Názornější představu konkrétní relace je možné získat z obrázku 4.1. Aby bylo možné s daty tabulky pracovat, zavádí se aparát, který zajišťuje jednoznačnou identifikaci každého záznamu - primární klíč. Primární klíč je atribut či skupina atributů, která je pro každý záznam tabulky jedinečná (stejně jako název tabulky v databázi) \cite{_20}. V případě zmíněné tabulky {\it Person} by tak mohl posloužit například atribut e-mail, neboť žádné dvě osoby nemohou logicky mít stejnou e-mailovou adresu (což by mělo být zajištěno ze strany 
\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.7]{relace.pdf}
\caption{Znázornění relace}
\end{center}
\end{figure}
domény dané e-mailové adresy). V případě, že tabulka neobsahuje žádný atribut, který by potřebnou jedinečnost záznamů zajišťoval, je nutné jej přidat. To je realizováno např. atributem ID, obsahujícím číslo z číselníku, jehož hodnota je inkrementována po každém přidání dalšího záznamu do tabulky {\it Person}. Tento identifikátor položky sice jednoznačně určuje daný záznam v tabulce, nikoliv už však v rámci celé databáze (pokud uvažujeme více tabulek) či vně databáze. V jedné databázi je tedy možné mít například tabulky {\it Person} a {\it Experiment}, jejichž primárním klíčem bude atribut s názvem ID typu celého čísla. V takovém případě je pak možné, aby obě tabulky obsahovaly 2 různé záznamy, jež budou jednoznačně identifikovatelné stejnou číselnou hodnotou (ale v kontextu dané tabulky). Z toho důvodu je pro jednoznačnou identifikaci záznamu nutné znát jak hodnotu příslušného atribu-\\tu obalující relace, tak i její název. 


\section{Limity relační databáze}

\subsection{Dědičnost}


\hspace{0.65cm}Relační databáze může samozřejmě obsahovat větší množství tabulek (za předpokladu že mají vzájemně různé názvy). Každá tabulka tak sdružuje záznamy, jejichž obsah si je v určitém smyslu blízký. Z hlediska objektově orientovaného přístupu, který je realizovaný např. nástrojem Hibernate, lze tabulku chápat také jako třídu a její záznamy jako instance dané třídy. Každá takováto instance má pevně daný počet atributů, který je definován obalující třídou. Uvažujme například tabulku {\it Person}, která ponese údaje jak o osobách, které jsou cílovým objektem experimentů, tak údaje o výzkumných pracovnících. U obou skupin nás budou zajímat společné atributy jako jméno a příjmení, ale některé atributy budou různé. U testovaných osob to bude např. věk, zatímco u výzkumníků např. titul. Uvažujeme-li objektový přístup k takovéto tabulce, můžeme využít dědičnosti. Vytvoříme tedy třídu {\it Person}, která ponese všechny společné atributy, a od ní bude zděděna třída pro výzkumníky a třída pro testované osoby. Tyto třídy budou obsahovat atributy, které jsou specifické pro danou skupinu. Z pohledu relačního modelu je tento problém řešitelný obtížněji. Je možné například vytvořit 2 samostatné tabulky pro dané skupiny či ponechat jednu tabulku, která ponese všechny atributy, a každá skupina bude mít vyplněnou jen jejich část. Podobný problém by vznikl například při potřebě dodat další atribut jen omezenému počtu osob jedné ze skupin. Z uvedeného příkladu je patrné, že dynamické rozšiřování záznamů obsažených v jednotlivých tabulkách je poměrně obtížné.

\subsection{Vztahy mezi relacemi}

\hspace{0.65cm}Relační model dovoluje také zaznamenávat vztahy mezi jednotlivými tabulkami a provazovat tak záznamy z různých tabulek. Tyto vazby se realizují prostřednictvím atributů označovaných jako cizí klíč \cite{_20}. Hodnotou cizího klíče je pak hodnota primárního klíče tabulky, která je cílem vytvářené vazby. Z hlediska kardinality vztahu je možné rozlišit 3 základní případy: {\it 1:1} , {\it 1:N} a {\it M:N} \cite{_22}. Vztah {\it 1:1} vyjadřuje případ, ve kterém záznam jedné tabulky odpovídá záznamu jinému tabulky. Tento případ není příliš častý a většinou se řeší umístěním obou záznamů do jediné tabulky. Vztah {\it 1:N} reprezentuje situaci, kdy se jednomu záznamu tabulky přiřazuje více záznamů jiné tabulky. Příkladem takové vazby může být vztah záznamů tabulek {\it Person} a {\it Reservation}. Jedna osoba tedy může mít {\it N} rezervací laboratoře, ale každá rezervace má jako vlastníka právě jednou osobou. V modelu je tato informace realizovaná přidáním atributu {\it person\_id} do tabulky {\it Reservation}. Tento atribut se tak stává cizím klíčem a ponese hodnotu primárního klíče tabulky {\it Person} pro příslušný záznam cílové osoby. Samotná vazba tedy obsahuje informaci o zdrojovém záznamu, cílovém záznamu a také název vazby, který je reprezentován názvem atributu pro cizí klíč tabulky.

Posledním druhem vazby je vztah {\it M:N}, jenž slouží k reprezentaci stavu, kdy {\it M} záznamům jedné tabulky odpovídá {\it N} záznamů jiné tabulky. Tento stav je v relačním modelu řešen rozložením na dvě vazby {\it 1:N} a {\it 1:M}, které jsou pak realizovány vytvořením další tabulky, jejíž záznamy budou obsahovat cizí klíče obou tabulek. Pro realizaci takové vazby je tedy nutné vložit do databáze další tabulku a v případě potřeby rozlišení druhu jednotlivých vazeb je zapotřebí buď dalšího atributu, jenž by vztah popisoval, či pro každý druh vazby mít vlastní tabulku (což se týká i případu vazby {\it 1:N}). Pokud by ovšem bylo zapotřebí popsat také vztahy mezi jednotlivými vazbami, nastává problém, který je řešitelný velmi obtížně \cite{_20}.


\section{Datový model EEG/ERP portálu}
\hspace{0.65cm}Současnou podobu relační databáze portálu tvoří přibližně 80 tabulek. Naměřená data experimentů (hodnoty EEG signálů) jsou uložena v podobě binárních souborů v tabulce {\it DATA\_FILE} spolu se popisnými údaji jako je název či datový typ mající podobu textového řetězce nebo čísla. Tyto popisné údaje lze označit jako metadata binárního souboru naměřených dat. Metadata scénáře experimentu uložená v tabulce {\it SCENARIO} obsahují popisné informace dalších binárních souborů, jež jsou uloženy v tabulce {\it SCENARIO\_TYPE\_NONXML} obsahující popis průběhu měření. Obě tabulky {\it SCENARIO} a {\it DATA\_FILE} obsahují vazbu na tabulku {\it EXPERIMENT}, která obsahuje buď přímo metadata experimentu (nikoliv však souboru naměřených dat), nebo zajišťuje provázání s jinou tabulkou jež je nese. Z aktuálního modelu je patrné, že jeden experiment je popsán jedním scénářem, ale může obsahovat více (binárních) souborů naměřených dat.

Tabulka {\it EXPERIMENT} s klíčovými metadaty obsahuje také dvě vazby na tabulku {\it PERSON}, jež slouží ke zaznamenání měřené osoby a experimentátora (vlastníka experimentu). Z hlediska datového modelu není mezi těmito osobami rozdíl, neboť jsou všechny uloženy v jediné tabulce a tudíž jsou všechny osoby popsány stejnou množinou atributů. Některé testované osoby například vůbec nemusí potřebovat přístup do portálu, ale tabulka, ve které jsou zaznamenány, obsahuje atributy uživatelského jména a hesla (i když mohou nabývat hodnoty NULL). Stejná situace nastává i pro další referencované tabulky {\it ARTICLES}, {\it ARTICLES\_COMMENTS} či {\it RESERVATION}. Datový model tak nikterak nezabraňuje, aby měřené osoby měly své články, přidávaly k nim komentáře nebo rezervovaly laboratoř (vychází se z předpokladu, že portál slouží zejména pro výzkumné pracovníky, nikoli pro testované osoby). 

Obdobná situace nastává v případě tabulky {\it RESEARCH\_GROUP}, sloužící ke sdružování osob do výzkumných skupin. Její vazby na tabulku {\it PERSON} zajišťují, že každá skupina má svůj název, popis a také vlastníka. Každá skupina může mít samozřejmě více členů, což zajišťuje rozkladová tabulka {\it RESEARCH\_GROUP\_MEMBERSHIP}, jež obsahuje i roli člena ve skupině (ve smyslu uživatelský práv). Samotná tabulka ovšem poměrně značně zasahuje do celého datového modelu díky množství rozkladových tabulek sloužících ke kategorizaci hodnot specifických metadat experimentů k vybraným skupinám. Díky tomu je možné, aby vybraná skupina mohla definovat pro své potřeby vybrané hodnoty pro určitá metadata – např. pro tabulku {\it HARDWARE} definovat množinu přístrojů, které ke svým výzkumům využívá. Díky rozkla-\\dovým tabulkám může navíc více skupin sdílet stejné hodnoty položek hard-\\waru. Tyto tabulky s dodatečnými metadaty experimentu jako například zmíněný {\it HARDWARE}, {\it SOFTWARE} či {\it WEATHER} sice popisují kontext měření, ale z hlediska datového modelu se jedná pouze o nekategorizovaná data vázaná (často nepřímo) na tabulku {\it EXPERIMENT}. Není tedy možné sdružit některé parametry měření do skupin – např. tabulky {\it PHARMACEUTICAL} a~{\it DISEASE} označit jako medicínské parametry a specifikovat tak jednoduchou hierarchickou kategorii metadat experimentů.

Další problém, který řeší současný relační datový model jen částečně je dynamická rozšiřitelnost struktury dat (ve sémantickém smyslu). V průběhu vývoje portálu se postupně zvyšoval počet tabulek nesoucích specifická meta-\\data experimentu a je i nadále rozšiřován. Pro případ vzniku potřeby popisu daného experimentu parametrem, jenž není definován jako atribut tabulky {\it EXPERIMENT} ani jinou samostatnou tabulkou, obsahuje databáze tabulky {\it EXPERIMENT\_OPT\_PARAM\_DEF} a {\it EXPERIMENT\_OPT\_PARAM\_VAL}. Ty umožňují zaznamenat další hodnoty ve tvaru parametr-hodnota a navíc je sdílet pro více skupin. Nevýhodou tohoto řešení je ale absence možnosti přidat danému parametru více klíčů (chceme-li se vyhnout změně tabulky přidáváním dalších atributů), či tyto údaje ještě více řetězit. Obdobná situace však nastává i v případě samostatných tabulek pro konkrétní metadata experimentu. 

Pro bližší představu o současném datovém modelu portálu je možné nahlédnout do přílohy D obsahující ERA model EEG/ERP portálu.







\chapter{Datový model sémantického webu}
\hspace{0.65cm}Předchozí kapitola se zabývala daty, která jsou sdružována a reprezentová-\\na prostřednictvím relačního modelu. Stejná data ovšem mohou být také uchována prostřednictvím databáze založené na modelu sémantického webu, jemuž bude věnována tato kapitola. V kapitole sémantického webu byla nastíněna koncepce sémantického webu včetně reprezentace dat. Reprezentací datového modelu sémantického webu je takzvaný RDF graf, který sestává z libovolného počtu RDF výrazů neboli trojic. Každá trojice je tvořena subjektem, predikátem a objektem, které jsou z pohledu sémantického webu dále nedělitelné \cite{_8}. Jedna trojice tak poskytuje jednu elementární informaci o jednom subjektu. Zda má objekt trojice podobu jedinečné konkrétní entity už je určeno tím, jestli je reprezentován URI identifikátorem, či se jedná pouze literál nebo anonymní list (blank node). Odlišná situace nastává u~subjektu, který může být buď URI identifikátorem nebo anonymním listem. Reprezen-\\tace literálem zde již není možná, neboť by se popírala možnost provazování jednotlivých entit trojic, což je klíčová vlastnost sémantického webu \cite{_9}.

Podstatný rozdíl mezi datovým modelem sémantického webu oproti modelu relačnímu je absence jakýchkoliv tabulek. Struktura dat tak není předem specifikována a je tak možné vytvářet v podstatě objektový model, jehož vnitřní uspořádání sice může být na první pohled méně přehledné až chaotické ve srovnání s relační variantou, ale tento model je z hlediska struktury dat samopopisný. Záznamy relační databáze sice nabývají významu díky kontextu tabulky resp. jejích atributů, ale sémantické informace o vzájemném vztahu více záznamů různých tabulek už chybí. V datovém modelu, jenž je tvořen systémem provázaných trojic, jsou sice elementární informace uložené v jednotlivých tripletech, ty ale získávají další informační hodnotu díky kontextu vzájemného provázání trojic. V důsledku tohoto faktu tak každá neizolovaná elementární informace (trojice) v modelu obsahuje sémantickou informaci o vztahu s ostatními daty. Datový model tak ve výsledku obsahuje jak cíleně uložená data (ve smyslu relační databáze), tak i jejich vzájemný kontext, který navíc vytváří z modelu organizovaný systém.

\section{Dynamičnost modelu}
\hspace{0.65cm}Z výše uvedených informací je patrné, že datový model sémantického webu je oproti relačnímu snáze rozšiřitelný a je tak vhodnější pro uchování dat, jejichž struktura je v sémantickém smyslu více heterogenní. Bude-li například potřeba vytvořit databázi většího množství osob, které se dále člení na určité skupiny, jež se vzájemně liší sledovanými parametry na úrovni skupin i jednotlivců, je v principu možné řešit problém dvěma způsoby. Vytvořením relačního modelu je možné kategorizovat osoby prostřednictvím tabulek, res-\\pektive jejich  atributů, které ale bude nutné dále rozšiřovat s rostoucím počtem nových odlišných skupin a měnit tak do jisté míry pevnou strukturu dat. V případě řešení prostřednictvím sémantického webu je možné přidávat specifické informace pouze vybraným skupinám či jednotlivcům, aniž by se muselo zasahovat do struktury ostatních dat. Je tak možné organizovat jednotlivé objekty (osoby) do různých i prolínajících se skupin a ty popisovat hromadně nezávisle na ostatních, což je myšlenka dědičnosti.

\section{Dědičnost a hierarchie dat}
\hspace{0.65cm}Jazyk RDFS zavádí do datového modelu sémantického webu základní organizační hierarchii. Uložené objekty je možné kategorizovat do jednotlivých tříd stejně jako vlastnosti a ty pak vzájemně hierarchicky organizovat. Jednot-\\livé objekty tak mohou dědit od svých předků (díky konstrukcím {\it rdfs:range} a {\it rdfs:domain}) určité vlastnosti a na své úrovni je sami dále rozšiřovat. Celý tento princip je možné popsat na jednoduchém příkladu znázorněném na obrázku 5.1. Třída ({\it rdfs:Class}) {\it Person}, definující dvě vlastnosti ({\it rdf:Property}) {\it name} a {\it surname} má dva potomky ({\it RDFS:SubclassOf}), jež tyto vlastnosti dědí. Potomek {\it Experimenter} dále rozšiřuje své vlastnosti o atribut {\it Email} a~potomek {\it Subject} definuje atribut {\it Age}. Informace, že experimentátor {\it Pavel} (jenž je instancí třídy {\it Experiemtnator}) provádí měření na objektu {\it Martin}, je zachycena predikátem ({\it rdf:Property}) {\it Measure}. Inverzní činnost „je měřen“ popisuje vlastnost {\it IsMeasured}, přičemž definice inverzního vztahu dovoluje vyjádřit jazyk OWL.

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=1.6]{miniportal.pdf}
\caption{Znázornění hierarchické organizace dat}
\end{center}
\end{figure}

\section{Problémy modelu}
\hspace{0.65cm}Jak již bylo zmíněno, tato podoba modelu je výhodná spíše v případech velké různorodosti uchovávaných dat. Pro homogenní a z hlediska rozšiřování statická data je stále výhodné řešení využívající tabulek. Sémantický web však slouží především k uchovávání metadat, původní data jež, by mohla mít podobu větších binárních souborů, by bylo obtížné ukládat tímto způsobem. Technologie a standardy sémantického webu definují datové typy prostřednic-\\tvím schématu jazyka XML, který sice také připouští binární typy (např. base64Binary), ale pravděpodobně není vhodné je využít pro uložení většího binárního souboru do tohoto datového modelu z důvodu výkonnosti a séman-\\tické využitelnosti v rámci modelu \cite{_27}.


\section{Porovnání modelů}
\hspace{0.65cm}Pro jednoduché porovnání datového modelu sémantického webu a relačního datového modelu poslouží níže uvedená tabulka 5.1, která srovnává výhody (+) a nevýhody (-) obou modelů.

\begin{table}[htbp!]

\label{značka tabulky}
%\begin{center}
\begin{tabular} { |  m{7.4cm} | >{\centering} m{2.6cm} |  > {\centering} m{2.6cm} | } 
\hline
&  {\bf Relační model} & {\bf Model sémantického webu} \tabularnewline 
\hline
Dědičnost & + & -\tabularnewline
\hline
Dynamická rozšiřitelnost modelu & + & -\tabularnewline
\hline
Typování meziobjektových vazeb & + & -\tabularnewline
\hline
Unifikace idetifikátorů objektů & + & -\tabularnewline
\hline
Hierarchická organizace dat & + & -\tabularnewline
\hline
Sémantika datového modelu & + & -\tabularnewline
\hline
Ukládání rozsáhlých datových objektů & - & +\tabularnewline
\hline
Uchování (sémanticky) homogenních dat & - & +\tabularnewline
\hline
Počet dostupných nástrojů pro uchování persistentních dat & - & +\tabularnewline
\hline
\end{tabular}

%\end{center}
\caption{Srovnání výhod a nevýhod datových modelů}
\end{table}

\vspace{0.3cm}

Z výše uvedené tabulky je patrné, že vhodnost použití vybraného modelu je odvislá od typu a struktury dat, jež by měl datový model uchovávat. Jednotlivé řádky tak stručně shrnují vhodnost modelu pro vybranou vlastnost uchovávaných dat. Poslední položkou je počet dostupných nástrojů umožňují-\\cích uchování persistentních dat. Tou je míněno množství softwarových řešení databázových úložišť umožnujících uchování dat ve vybrané, modelu přirozené podobě. Pro relační databáze je takových nástrojů poměrně široká řada, ale pro úložiště dat sémantického webu je výběr o poznání menší, navíc mnoho z těchto dostupných nástrojů je spíše experimentálního charakteru. Jejich popisu a výběru se věnuje následující kapitola.


\chapter{Nástroje pro vývoj sémantického webu}
\hspace{0.65cm}Jak již bylo zmíněno v kapitole Sémantický web, jazyk RDF je jedním ze základních stavebních prvků  technologie sémantického webu. Současná podoba tohoto jazyka vychází ze specifikace W3C \cite{_6} z února 2004. Za dobu od publikace zmíněné specifikace do současnosti (2013) vznikla poměrně široká sada nástrojů od jednoduchých utilit až po komplexní softwarová řešení, jež umožňují zpracovávat data v jazyce RDF, resp. OWL. Rozsáhlý a vcelku přehledný seznam těchto nástrojů (k datu vzniku této práce celkem 183) dostupný ze zdroje  \cite{_23} poslouží jako primární seznam pro výběr vhodného nástroje. Pro účely této práce se zaměříme na hledání nástroje, jenž slouží primárně jako persistentní úložiště RDF dat a zároveň poskytuje veřejné Jena/Sesame API pro  komunikaci a umožňuje dotazování jazykem SPARQL nad daty. Další nutnou podmínkou je, aby nástroj poskytoval hybridní úložiště umožňující uchovávat jak relační data, tak data v jazyce sémantického webu (zmíněné požadavky vyplývají z následující kapitoly). Tyto poměrně náročné podmínky ovšem splňují pouze dva nalezené nástroje, jejichž popis bude následovat.

\section{Virtuoso}
\hspace{0.65cm}Virtuoso je hybridní databázový server umožňující práci nad více datovými modely. Nástroj poskytuje klasickou relační databázi, RDF databázi trojic, XML databázi a také dokumentově orientovanou databázi. Verze aplikace se zpoplatněnou licencí poskytuje oproti GPL licencované variantě navíc virtuální databázi a také replikaci dat. Virtuální databáze umožňuje zastřešit více databázových systémů jediným centrálním, se kterým klient komunikuje. Ve výsledku tak umožňuje klientovi pracovat s více databázemi, které se mu transparentně jeví jako jediná. Díky tomu je například možné prostřednictvím jediného dotazu získat výsledek ze všech databází najednou. Replikace dat slouží  k zajištění konzistence dat takovým způsobem, kdy při např. dvou databázích slouží hlavní databáze k zachycení aktuálních změn dat, které postupně zasílá vedlejší databázi, jež obsahuje původní data. Díky tomu obsahuje vedlejší databáze stále konzistentní data neboť při nezdařeném zápisu aktualizace může zažádat hlavní databázi o jejich opětovné zaslání. 

Databázový server poskytuje grafické webové rozhraní, které slouží ke komplexní administraci, a také je možné jeho prostřednictvím zadávat libovol-\\né SQL/SPARQL dotazy. Virtuoso implementuje nad relační databází engine poskytující funkcionalitu v podobě standardu SQL-92, podporu pro pohledy, standardní datové typy, procedury, kurzory a také transakce. SPARQL dotazy je možné zadávat stejnými prostředky jako SQL dotazy či je dokonce vnořovat do SQL dotazů. Díky tomu je možné pracovat s relačním modelem dat a RDF modelem zároveň. Samotné dotazování a další komunikace klientské aplikace se serverem může být realizována prostřednictvím driverů ODBC/JDBC nebo Java knihovnou poskytující Jena API. Neméně důležitou součásti podpory Java aplikací je i distribuce knihoven pro Hibernate (Hibernate driver a~Hiber-\\nate dialect). Virtuoso také podporuje import souborů s RDF daty ve formátu N3, Turtle a také nejběžnější RDF/XML \cite{_24}.


\section{Oracle 11g - Oracle Spatial}
\hspace{0.65cm}Oracle Spatial je rozšířením databázového systému Oracle, jež je primárně určeno pro zpracování geoprostorových dat \cite{_25}. Toto rozšíření s sebou ovšem přináší také podporu pro sémantické technologie, která je klíčová pro tuto práci. Standardní instalace Oracle 11g release 2 (současná databáze EEG/ERP portálu) ani žádná z předchozích verzí tuto podporu standardně po instalaci neposkytuje. Její zapnutí je ale pouze záležitostí spuštění instalačního skriptu a následného vygenerování tabulkového prostoru pro systémové tabulky a také všechna následně ukládaná data. V tomto tabulkovém prostoru je již možné vytvořit sémantickou síť, která ponese všechny systémové RDF tabulky a~pohledy, jež jsou nezbytné pro provádění SPARQL dotazů. Při práci s~data-\\bází je zapotřebí mít k dispozici datový model, který ponese všechny RDF trojice, jež budou vytvářeny. Tento model bude vázán na tabulku, která ponese všechny vytvářené trojice. Do tohoto modelu je již možné zapsat první trojici \cite{_26}.
Pro názornost jednoduchosti tohoto procesu bude uveden výše popsaný postup v podobě SQL příkazů \cite{_26}. 

\begin{verbatim}
1.  ?/md/admin/catsem11i.sql
2.  CREATE TABLESPACE rdf_tblspace DATAFILE 
    '/oradata/orcl/rdf_tblspace.dat' SIZE 1024M AUTOEXTEND 
    ON NEXT 256M MAXSIZE 16384M;
3.  EXECUTE SEM_APIS.CREATE_SEM_NETWORK('rdf_tblspace');
4.  CREATE TABLE family_rdf_data (id NUMBER, 
    triple SDO_RDF_TRIPLE_S);
5.  execute SEM_APIS.create_sem_model('family', 
   'family_rdf_data', 'triple');
\end{verbatim}

První příkaz instaluje podporu sémantických modelů v databázi. Druhým příkazem je na disku vytvořen soubor, který ponese tabulkový prostor pro sémantickou síť a všechny datové modely. Jeho počáteční velikost je nastavena na 1 GB s možností dalšího zvětšení v případě vyčerpání dané kapacity. V~tomto tabulkovém prostoru je ve třetím kroku vytvořena sémantická síť, ve které je možné vytvářet jednotlivé datové modely. Ve čtvrtém kroku je vytvořena první tabulka se dvěma sloupci, kde se vyskytuje nový datový typ {\it SDO\_RDF\_TRIPLE}. Jedná se o datový typ trojice ve smyslu RDF, který v sobě obsahuje subjekt, predikát a objekt (dle očekávaného standardu). Posledním příkazem byl vytvořen datový model nad předchozí tabulkou, který poslouží pro ukládání konkrétních trojic. Samotné vkládání trojic je pak poměrně jednoduché a je možné jej nalézt v \cite{_26}.

Po instalaci podpory sémantických technologií je již tedy možné využívat databázi Oracle jako úložiště RDF dat. Ve výsledku je tedy k dispozici hybridní databáze pro ukládání dat jak v relační podobě, tak ve RDF jazyce. Nad zmíněnými sémantickými daty je možné se dotazovat jazykem SPARQL a to stejnými prostředky jako v případě jazyka SQL. V důsledku toho je také možné vytvářet vnořené či jinak kombinované dotazy z obou jazyků, stejně jako tomu bylo u nástroje Virtuoso. K sémantickým datům databáze je možné přistupovat samozřejmě stejnou cestou jako k relačním – tedy prostřednictvím ODBC/JDBC driveru, ale Oracle také dodává driver poskytující standardní Jena API pro Java aplikace. 
Databázový systém podporuje odvozovací pravidla jazyka RDF, RDFS i OWL a od verze Oracle 10g je navíc možné, aby uživatel definoval vlastní odvozovací pravidla. Při vytváření dotazu je pak možné určit, jakou množinu odvozovacích pravidel (RDF / RDFS / vlastní pravidla či jejich kombinace) chceme do dotazu zahrnout a ovlivnit tím tak jeho výsledek \cite{_26}.


\section{Jena}
\hspace{0.65cm} Jena je Java framework určený pro vývoj aplikací sémantického webu. Nástroj je vyvíjený od roku 2000 v podobě open source projektu, který je nyní dostupný pod Apache licencí. Framework Jena je distribuovaný jako knihovna, jež poskytuje \cite{_28}:

\begin{itemize}
\item API pro zápis a čtení RDF dat ve formátu N3, RDF/XML či N-triples
\item API pro práci s ontologiemi na úrovni jazyků RDFS a OWL
\item Reasoner pro zpracování dat jazyků RDF a OWL
\item Dotazovací engine SPARQL
\item Ukládání RDF dat do databáze
\end{itemize}

Jena poskytuje komplexní API umožňující práci s daty sémantického webu. Veškerá zpracovávaná data, jež mají podobu grafu, jsou uchovávána prostřednictvím modelu. Framework poskytuje 2 druhy modelů, jež se liší svou expresivitou. Základní model umožňující zpracování dat na úrovni jazyka RDF je vhodný pro data s nízkou úrovní sémantiky. Druhý, ontologický model umožňuje maximální využítí nástroje, neboť poskytuje API pro práci s ontologiemi jazyka OWL. Samotný model je možné uchovávat buď pouze v paměti, přičemž je možné jeho data ukládát i opětovně načítat ze souboru, nebo v databázi, která poskytuje příslušný konektor umožňující využítí Jeny jako API k tomuto úložišti. S daty modelu je možné pracovat objektovým způsobem na úrovni trojic či jejjich částí nebo prostřednictvím vykonávání SPARQL dotazů \cite{_28}.




\chapter{Transformace datového modelu}
\section{Rozdělení datového modelu}
\hspace{0.65cm}V předchozích kapitolách, jež se zabývaly datovým modelem sémantického webu a relačním datovým modelem, bylo možné získat základní představu o~obou možnostech reprezentace dat. Rovněž byly nastíněny některé problémy současného relačního datového modelu portálu, jehož úprava je předmětem této práce. Z výše uvedené tabulky 5.2 je patrné, že technologie sémantického webu využité pro reprezentaci datového modelu mají i nevýhody, a to zejména v oblasti ukládání rozsáhlých datových objektů, jež je primárním důvodem pro částečné zachování relačního modelu. V rámci této práce tedy bude navržen datový model EEG/ERP portálu, který bude z jedné části  založený na relační databázi a z druhé části na objektově orientované databázi využívající technologie sémantického webu. Bude se tedy jednat o hybridní datový model.

Pro rozdělení datového modelu je nutné určit pravidla, podle kterých bude rozdělení provedeno. K tomu bude využito koncepce sémantického webu, který je určený zejména pro ukládání a zpracování metadat. V současném datovém modelu je tedy nutné odlišit základní data od metadat. Následující rozdělení zároveň umožní vyřešit problém ukládání rozsáhlých datových souborů, neboť právě ty budou označeny jako základní data. Na EEG/ERP portál je možné pohlížet jako na aplikaci poskytující prostředky pro ukládání a zpracování experimentů a zároveň umožňující diskuzní činnost uživatelů aplikace. Každý prováděný experiment je z pohledu databáze charakterizován dvěma základní-\\mi objekty – binárním souborem zaznamenávajícím naměřeného hodnoty a~souborem scénáře, který určuje postup měření. Diskuzní funkcionalita portálu umožňuje uživatelům vytvářet textové příspěvky v podobě článků, jež mají charakter rozsáhlejšího textového objektu, a k těmto článkům mohou další uživatelé přidávat komentáře stejného datového typu. Popis této funkcio-\\nality portálu tak následně umožňuje identifikaci základních dat, jejichž úložištěm bude relační databáze. V ERA modelu portálu, jenž je uveden v příloze D této práce, jsou zmíněné údaje uchovány v tabulkách v podobě rozsáhlých binárních/textových soborů. V relačním modelu tedy ponecháme uchovaná tato data: 



\begin{itemize}
\item Datové soubory se záznamem experimentu
\item Datové sobory se scénářem popisujícím postup experimentu
\item Text článků publikovaných uživateli portálu
\item Text komentářů publikovaných článků
\end{itemize}

\section{Relační část modelu}
\hspace{0.65cm}Relační část datového modelu bude tvořena čtyřmi tabulkami, z nichž každá ponese příslušná data dle výše uvedeného seznamu. Z důvodu jednodu-\\chosti budou názvy tabulek převzaty z původního modelu dle původních tabulek nesoucích tato data. Aby bylo možné jednotlivé tabulkové záznamy jednoznačně identifikovat bude do tabulky přidán sloupec nesoucí tento údaj. Pro zachování  koncepce sémantického webu ve výsledném modelu však nebude tímto identifikátorem pouze postupně inkrementované číslo jako v původním modelu, nýbrž se zavede identifikace prostřednictvím URI. Tímto způsobem dosáhneme jednotné identifikace objektů v celém výsledném datovém modelu, přičemž záznamy relační databáze jednoznačně označené prostřednictvím URI budou dále popisovány v datovém modelu sémantického webu, jenž bude sloužit k uchování metadat. Ve výsledku tak zmíněná identifi-\\kace údajů prostřednictvím URI zajisti propojení obou částí cílového datového modelu. ERA model relační části nově vytvářeného modelu na obrázku 7.1 je pak poměrně jednoduchý ve srovnání s původní variantou díky absenci uchování metadat. 

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.35]{eraNovej.pdf}
\caption{ERA model relační části transformovaného modelu}
\end{center}
\end{figure}


Následující vytvářená sémantická část modelu bude provádět transformaci původního relačního modelu, z jehož tabulek nesoucích zmíněné datové soubo-\\ry jsou příslušné atributy odstraněny (z důvodu jejich přesunu do této nové relační části modelu).


\section{Sémantická část}
\hspace{0.65cm}Zbylá část dat původního modelu, jež nebude obsažena v relační části nového modelu, je předmětem následující transformace. K jejímu provedení je potřeba nadefinovat obecná pravidla a postup, který by umožňoval transforma-\\ci obecnějšího modelu z důvodu jeho častých změn. I v průběhu tvorby této práce je původní model nadále modifikován a je tak zapotřebí mít k dispozici postup, který by umožnil vytvoření i úpravu nového hybridního modelu tak, aby pokrýval stejnou množinu dat jako původní model v později modifikované verzi. Postup vytvoření nového modelu bude sestávat ze dvou částí, a to z transformace původních dat do podoby sémantického webu a z dodání sémantiky tomuto modelu tak, aby mohl být do jisté míry samopopisný. 
Pro popis, resp. zápis této části modelu budou využity jazyky RDF spolu se RDFS, které dovolují vyjádřit veškerou sémantiku nalezenou v aktuálním modelu.

\subsection{Transformace tabulek}
\hspace{0.65cm}Při transformaci tabulek původního relačního modelu bude využito obdob-\\ného principu jako v případě objektově relačního mapování nástroje Hibernate \cite{_29}. Prvním krokem je identifikace původních tabulek, které neslouží pro rozložení vazby M:N mezi jinými tabulkami. Tyto tabulky budou v nově vznikajícím modelu představovat třídy a záznamy v nich obsažené budou reprezentovány instancemi těchto tříd. To je možné díky jazyku RDFS, který dovoluje vytvářet jednoduchý objektový model složený z tříd a jejich instancí podobně jako např. v jazyce Java. Jednotlivé atributy tabulek pak budou realizovány jako predikáty ({\it rdf:Property}). Transformace struktury původní tabulky prostřednictvím jazyka RDF resp. RDFS se zajistí jazykovými konst-\\rukcemi tak, jak je uvedeno v tabulce 7.1.

Každá takto transformovaná tabulka bude reprezentována jedním URI identifikátorem (stejně jako další objekty) a označení, že se jedná o třídu, zajistí konstrukce {\it rdfs:Class}. Původní název tabulky bude součásti hodnoty URI. Každý záznam tabulky bude rovněž popsán prostřednictvím URI a~jeho náležitost ke třídě (je instancí třídy) popíše trojice, kde subjektem bude URI této instance, predikátem konstrukce {\it rdf:type} a objektem URI cílové třídy. Jednotlivé atributy tabulky se díky konstrukci {\it rdf:Property} stanou predikáty ve vytvářeném modelu a umožní tak vytvářet typovanou vazbu mezi instancemi a hodnotami jejich atributů (literálů) či mezi instancemi navzájem. 

\vspace{0.25cm}

\begin{table}[htbp!]

\label{značka tabulky}
\begin{center}
\begin{tabular} { | >{\centering} m{3.6cm} |  > {\centering} m{3.6cm} | } 
\hline
Tabulka & {\it rdfs:Class} \tabularnewline
\hline
Záznam tabulky & {\it rdf:type} \tabularnewline
\hline
Atribut tabulky & {\it rdf:Property} \tabularnewline
\hline
\end{tabular}

\end{center}
\caption{Transformace strukur tabulky do sémantického webu}
\end{table}

\vspace{0.25cm}

Transformované atributy (predikáty) je zapotřebí navíc svázat s třídami původních tabulek těchto atributů. Toho se docílí díky konstrukci rdfs:domain, která tak de facto určuje doménu těchto predikátů. Tento výraz ale především slouží k definování náležitosti instance ke své třídě, čehož se docílí vytvořením trojice, jejímž predikátem bude transformovaný atribut a subjektem zmíněná instance.


\subsection{Transformace rozkladových tabulek}
\hspace{0.65cm}Původní datový model je z velké části tvořen tabulkami, jež rozkládají násobnou vazbu M:N jiných tabulek. Tyto tabulky nebudou transformovány do podoby tříd, nýbrž se pouze využijí jejich atributy, které budou přiřazeny k jedné z provázaných tabulek, resp. tříd. Sémantický web připouští přiřazení více různých hodnot objektů subjektům pro stejný predikát. Je tedy možné například instanci třídy {\it Weather} přiřadit pro predikát {\it Research\_group} více cílových skupin. Ve výsledku však bude transformován pouze jeden atribut rozkladové tabulky na predikát, jenž bude reprezentovat vazbu mezi první z~původních provázaných tabulek prostřednictvím konstrukce {\it rdfs:range} a~dru-\\hou tabulkou prostřednictvím domény tohoto predikátu ({\it rdfs:domain}). Výraz {\it rdfs:range} přiřazený k vybranému predikátu umožňuje vyjádřit náležitost instance k rodičovské třídě (definované hodnotou {\it rdfs:range}), pokud je tato instance objektem trojice se zmíněným predikátem. V rámci této transformace bude využito {\it rdfs:range} zároveň k vyjádření cílového objektu pro predikát, stejně jako bylo využito domény pro určení zdrojového subjektu daného predikátu. 
Rozhodnutí, která z vázaných tabulek určí predikátu hodnotu {\it rdfs:domain} či {\it rdfs:range}, je odvislé od sémantického významu této vazby jež bude propojovat výsledné instance tříd a určí tak směr vazby (v případě reprezentace modelu orientovaným grafem se bude určovat směr šipky daného predikátu – viz predikát {\it Measure} na obrázku 5.1).

Pro názornost tohoto postupu bude uvedena ukázka transformace původní tabulky {\it COEXPERIMENTER\_REL}, která nese atributy {\it EXPERIMENT\_ID} a~{\it PERSON\_ID} tak, jak ukazuje obrázek 7.2.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.5]{rozkladovka.pdf}
\caption{Znázornění transformace rozkladové tabulky}
\end{center}
\end{figure}


Tato tabulka umožňuje zaznamenat násobnou vazbu mezi záznamy tabulek {\it EXPERIMENT} a {\it PERSON} vyjadřující účast více výzkumníků podílejících se na provádění experimentu. Výsledkem aplikace výše uvedeného postupu bude vzniklý predikát, jehož doména ({\it rdfs:domain}) bude mít hodnotu {\it Experiment} (třída) a {\it rdfs:range} hodnotu {\it Researcher}. Hodnotu URI tohoto predikátu lze zvolit např. {\it experiment/coexperiment\_person}.


\subsection{Transformace atributů tabulek}
\hspace{0.65cm}Transformace atributů tabulek již byla popsána v předchozích odstavcích, ze kterých je zřejmý postup vzniku výsledného predikátu. K již uvedenému postupu určení domény predikátu dle tabulky původního modelu je nutné ještě uvést postup určení rozsahu ({\it rdfs:range}) cílových objektů predikátem vázaných trojic. V případě atributů rozkladových tabulek je tento cílový rozsah určen právě jedním z těchto atributů. Rozsah ({\it rdfs:range})  transformova-\\ného atributu u nerozkladové tabulky je určen doménou (ve smyslu relační databáze) tohoto atributu. Pokud je tato (relační) doména původního atributu určena cizím klíčem jiné tabulky, s níž má atribut zajistit provázání, pak tato cílová tabulka (transformovaná na třídu) určuje i rozsah predikátu. V opačném případě, kdy relační doména je určena pouze datovým typem omezujícím přípustné hodnoty atributu, bude rozsah určen rovněž datovým typem, který ale bude definován prostřednictvím XSD datových typů. Určení toho typu je dáno tabulkou 7.2 uvedenou v následující podkapitole.

\subsection{Transformace datových typů}
\hspace{0.65cm}Pro určení datových typů rozsahů ({\it rdfs:range}) predikátů a literálů transfor-\\movaných z hodnot atributů záznamů tabulek slouží následující tabulka 7.2. Ta popisuje transformaci datových typů relační databáze na základní datové typy sémantického webu definované XSD schématem.

\vspace{0.25cm}

\begin{table}[htbp!]

\label{značka tabulky}
\begin{center}
\begin{tabular} { | >{\centering} m{3.8cm} |  > {\centering} m{3.8cm} | } 
\hline
{\bf Relační databáze} & {\bf Sémantický web} \tabularnewline 
\hline
\hline
{\it VARCHAR2} & {\it xsd:string} \tabularnewline
\hline
{\it CHAR} & {\it xsd:string} \tabularnewline
\hline
{\it NUMBER} & {\it xsd:integer} \tabularnewline
\hline
{\it LONG} & {\it xsd:long} \tabularnewline
\hline
{\it FLOAT} & {\it xsd:float} \tabularnewline
\hline
{\it DATE} & {\it xsd:date} \tabularnewline
\hline
{\it TIMESTAMP} & {\it xsd:dateTime} \tabularnewline
\hline
\end{tabular}

\end{center}
\caption{Transformace datových typů relační databáze}
\end{table}

\vspace{0.25cm}

Názvy datových typů relační databáze vycházejí z názvů užívaných portálo-\\vou databází Oracle.

\subsection{Transformace záznamů tabulek}
\hspace{0.65cm}Záznamy tabulek původního modelu se transformují na instance tříd ({\it rdf:type}) vzniklých z těchto tabulek. Pro každý záznam se tak vytvoří nové URI, jež bude sloužit k jeho identifikaci a především jako subjekt trojic přiřazujících této instanci prostřednictvím vytvořených predikátů hodnoty objektů. Hodnoty těchto objektů závisí na hodnotě atributu původního zázna-\\mu. Bude-li původní hodnota atributu cizím klíčem jiné tabulky pak, přiřazo-\\vaným objektem bude instance třídy vzniklá ze záznamu určeného tímto cizím klíčem. V opačném případě bude na základě původní hodnoty atributu vytvořen nový literál nesoucí tuto hodnotu, jehož datový typ bude odpovídat transformovanému datovému typu (dle tabulky 7.2) původní domény atributu (původní datový typ atributu).

\subsection{Dodání sémantiky modelu}
\hspace{0.65cm}Nově vytvořenému modelu bude dodána sémantika prostřednictvím hierar-\\chického uspořádání všech transformací získaných tříd a predikátů, ke kterým budou navíc dodány popisné informace. Hierarchického uspořádání je možné dosáhnout využitím konstrukcí {\it rdfs:subClassOf} a {\it rdfs:subPropertyOf}. Z původ-\\ního relačního modelu tvořeného množinou rovnocenných tabulek tak vzniká objektový model, který bude mít částečně stromovou strukturu. Jednoduchým způsobem je tedy dosaženo například oddělení zaznamenávaných osob, jež provádějí experimenty od těch, co jsou měřeným subjektem tak, jak znázorňuje obrázek 7.3.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.52]{semantika.pdf}
\caption{Znázornění dodání sémantiky modelu}
\end{center}
\end{figure}

Ve výsledném modelu byla dále vytvořena rodičovská třída pro všechny třídy uchovávající údaje o měřících elektrodách či pro metadata popisující scénář měření. Kompletní navržená struktura tříd modelu v XML zápisu je zobrazena v příloze C. Význam tohoto zápisu je popsán v následující kapitole Implementace navrženého modelu.

Každé vytvořené třídě a predikátu (property) je navíc dodávána prostřed-\\nictvím konstrukce {\it rdfs:comment} popisná informace (viz obrázek 7.3) umož-\\ňující uživateli získat představu o významu daných struktur modelu, které jsou jinak popsány pouze prostřednictvím URI (byť se sebelépe zvolenou hodnotou). Výsledně tak získáváme do určité míry samopopisný datový model.

\subsection{Řešení rozšiřujících tabulek}
\hspace{0.65cm}Původní relační model obsahuje několik tabulek nesoucích ve svém názvu řetězec {\it PARAM\_DEF} nebo {\it PARAM\_VAL}, jež slouží k uložení dalších rozšiřu-\\jících hodnot tabulek ke kterým jsou vázané. Do popisované transformace nebudou tyto tabulky zahrnuty neboť by obsahem svých záznamů porušovaly návrh výsledného modelu. Funkce, kterou tyto tabulky v původnímu modelu plní pouze pro vázané tabulky ale poskytuje výsledný transformovaný model všem uloženým datům díky své koncepci. Toho je dosaženo prostřednictvím možnosti vytváření nových predikátů (property) modelu, které umožňují dodávat další nová metadata libovolným subjektů, aniž by došlo k porušení původní struktury modelu. V případě požadavku vícenásobného využití nově definovaných metadat a jejich hodnot je rovněž možné rozšířit model o další třídy a jejich instance čímž lze datový model dále jednoduše dynamicky rozšiřovat. Názornou ukázkou ověřující toto tvrzení je testovací aplikace popisovaná v předposlední kapitole testování. 

\subsection{Ukázka transformace}
\hspace{0.65cm}Níže uvedený obrázek 7.4 graficky znázorňuje výsledek provedené transfor-\\mace dle popisovaných pravidel. Vzhledem k velikosti datového modelu je zde zobrazena pouze jeho část, přičemž celý model zapsaný prostřednictvím XML souboru i jeho grafická vizualizace jsou obsažené na přiloženém CD.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.52]{vysledne.pdf}
\caption{Znázornění částí výsledného modelu}
\end{center}
\end{figure}


\subsection{Výhody navrženého modelu}

\begin{itemize}
\item Zápis významu objektů je přímou součástí modelu
\item Jednoduché anotování dat beze změny struktury modelu
\item Dynamicky rozšiřitelný model
\item Možnost libovolných meziobjektových  vazeb
\item Typování meziobjektových vazeb
\end{itemize}


\subsection{Nevýhody navrženého modelu}

\begin{itemize}
\item Datový model rozdělen do dvou částí
\item Ztráta restriktivních omezení z původního relačního modelu
\item Možná ztráta přehlednosti modelu neuváženým rozšiřováním
\end{itemize}

Navržený model poskytuje poměrně širokou řadu výhod, díky kterým je možné ukládat data způsobem bližším lidskému myšlení. Zásadní nevýhodou modelu je ztráta restriktivních omezení, neboť není možné vynutit na úrovni modelu povinné údaje, jako je např. uživatelské jméno či heslo u osob výzkum-\\níků, bez kterých nemohou provést přihlášení do systému a dále jej využívat. Souvisejícím problémem je ztráta možnosti omezení počtu vazeb mezi instan-\\cemi tříd - není tak možné například omezit vazbu M:N na 1:1. Všechny tyto záležitosti je nutné řešit v datové vrstvě aplikace, jež s modelem pracuje. V rámci tohoto hodnocení navrženého modelu se nabízí také otázka jeho výkonnosti, která bude řešena v kapitole testování.


\chapter{Implementace navrženého modelu}

\section{Formální zápis modelu}
\hspace{0.65cm}V předchozí kapitole byla navržena struktura nového datového modelu portálu, která je tvořena relační částí a částí sémantického webu. Aby bylo možné požadovaný model prakticky využít a otestovat, je nutné zajistit jeho konstrukci v databázovém systému. Pro účely této práce bude model vytvořen v databázových systémech Oracle a Virtuoso, které poskytují prostředky pro hybridní datové úložiště. Vzhledem k tomu, že datový model portálu je neustále modifikován z důvodu implementace nových funkcionalit, je vhodné, aby bylo možné model vytvářet co nejvíce automaticky a umožnit tak co nejjednodušeji reflektovat změny původního modelu do transformovaného.

Pro zápis navrženého modelu byl zvolen XML formát z důvodu přehled-\\nosti, snadné uživatelské modifikace, jednoduchého zápisu hierarchických struktur a následného aplikačního zpracování. Pro usnadnění práce uživatele je k dispozici také XSD šablona, jež usnadňuje vytváření dokumentu a jeho případnou validaci. XML dokument tedy slouží k zápisu všech modelem požadovaných struktur, jimiž jsou tabulky, třídy a predikáty (property).

Dokument musí začínat definicí tabulek, které jsou specifikovány svým jménem a typem dat, jež budou ukládat (binární nebo textové soubory). Název tabulky je zvolen shodně s lokálním jménem URI identifikátoru třídy, jejíž instance jsou reflektovány ve zmíněné tabulce prostřednictvím URI. Touto volbou názvu se později v testovací aplikaci docílí propojení tabulek s~třídami. Element definující tabulku má název {\it data\_table} a jeho atributy {\it name} a {\it type} slouží k záznamu jména tabulky a~typu ukládaných dat. Pro názornost je níže uvedena definice všech 4 tabulek relační části transformova-\\ného modelu.

\begin{verbatim}
<data_table name="article" type="text"/>
<data_table name="article_comment" type="text"/>
<data_table name="data_file" type="binary"/>
<data_table name="scenario" type="binary"/>
\end{verbatim}

Po definici tabulek modelu je dále nutné uvést všechny požadované třídy. Ty jsou určeny svými názvy (URI) a popiskem definujícím ontologický význam třídy (viz obrázek 7.3).
Element definující třídu má název {\it class} a atributy {\it name} a {\it description} slouží zápisu jména třídy a jejího popisku. Pro názornost je opět níže uvedena ukázka definice tříd {\it Experiment} a {\it Article}.

\begin{verbatim}
<class name="article" description="Published article."/>    
<class name="experiment" description="EEG/ERP experiment."/>
\end{verbatim}

Po definici všech tříd je možné zavést jejich nepovinný hierarchický systém. Ten se provádí výčtem potomků vybrané třídy a je možné jej libovolně řetězit. Klíčovým elementem označujícím rodičovskou třídu je {\it parent\_class}, jehož tag ohraničuje potomky definované elementem {\it child} s jediným parametrem name pro název třídy. Definice potomků třídy {\it Person} je uvedena níže.

\begin{verbatim}
<parent_class name="person">
        <child name="person/researcher"/>
        <child name="person/test_subject"/>
</parent_class>
\end{verbatim}

Další částí dokumentu je definice predikátů (property). Element pro tuto definici má název {\it property} a jeho atributy {\it name}, {\it range}, {\it domain} a~{\it description} postupně slouží k určení jména, rozsahu ({\it rdfs:range}), domény ({\it rdfs:domain}) a sémantického popisku. Ukázka použití je uvedena níže.

\begin{verbatim}
<property 
     name="person/researcher/given_name" 
     range="xsd:string" 
     domain="person/researcher" 
     description="Given name."/>

<property 
     name="person/researcher/group_member" 
     range="research_group" 
     domain="person/researcher" 
     description="Group membership."/>
\end{verbatim}

Poslední částí dokumentu je definice hierarchie predikátů, jejíž praktické využití je v této práci spíše okrajové, jak je uvedeno v kapitole testování. Definice hierarchického systému je obdobná jako v případě tříd. Rodičovský predikát je uvozen elementem s názvem {\it parent\_property} s atributem {\it name} nesoucím jméno predikátu. Vnořené elementy děděných predikátů jsou opět definovány názvem {\it child} s atributem {\it name} pro jméno potomka. Ukázka zápisu dědičnosti predikátů je uvedena níže.

\begin{verbatim}
<parent_property name="article_property">
        <child name="article/author"/>
        <child name="article/research_group"/>
        <child name="article/title"/>
        <child name="article/time"/>
        <child name="article/subscription"/>
</parent_property>
\end{verbatim}

Všechny uváděné názvy tříd a predikátů, resp. jejich rozsahů a domén jsou (a do cílového dokumentu se tak zapisují) jen lokálními částmi názvu URI. Jeho prefix se zadává pouze jednou při zápisu modelu z důvodu jednoduchosti a přehlednosti.
Výsledný dokument s navrženým modelem je spolu s XSD šablonou součástí obsahu přiloženého CD.

\section{Konstrukce modelu}
\hspace{0.65cm}Pro navržený model zapsaný prostřednictvím XML dokumentu je nutné vytvořit aplikace, které jej zapíší do databáze a následně poskytnou API, které umožní s modelem pracovat. Tyto aplikace budou vyvíjeny stejně jako EEG/ERP portál v jazyce Java.

\subsection{Knihovna SemWebModelDbConnector}
\hspace{0.65cm}Pro vytvoření modelu v databázovém systému je nejprve nutné zajistit komunikaci, jež dovolí provádět potřebné operace jak s relační částí, tak i s~částí sémantického webu této databáze. K tomuto účelu je navržena knihovna zastřešující tyto operace prostřednictvím metod interface, jež umož-\\ňuje transparentně komunikovat s vybranou databází  nezávisle, zda se jedná o databázový systém Oracle či Virtuoso. Tato knihovna poskytuje metody pro připojení a odpojení od systému a zajišťuje aplikaci, která ji využívá přístup k vybranému modelu sémantického webu spolu s připojením k relačnímu modelu. Na obrázku 8.1 je zobrazen UML diagram této jednoduché knihovny, jež je dále využita pro testovací aplikaci a nástroj pro konstrukci modelu. Veškeré implementační detaily jsou patrné z komentovaných zdrojových kódů, které jsou součástí přiloženého CD.

\vspace{0.65cm}

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.46]{db-connect.jpg}
\caption{UML diagram knihovny SemWebModelDbConnector}
\end{center}
\end{figure}

\subsection{Vytvoření modelu}
\hspace{0.65cm}Za účelem vytvoření navrženého cílového modelu byla implementována aplikace SemWebModelCreator. Ta zajišťuje načítání vstupního XML souboru s modelem a zpřístupňuje tato data aplikaci. Vstupní data jsou načítána ve třídě {\it DataLoader} prostřednictvím SAX parseru \cite{_16}, který na základě získaných hodnot atributů pro dané elementy vytváří datové objekty zastupující požado-\\vané tabulky, třídy a predikáty modelu. K jejich obalení slouží třídy balíku {\it cz.zcu.kiv.eeg.semweb.model.creator.data}. Na základě načtených dat provádí třída {\it ModelCreator} zápis, který sestává z vytvoření obou částí modelů. Nástroj v prvním kroku navazuje prostřednictvím knihovny SemWebModelDbConnec-\\tor spojení s databází, díky čemuž získává přístup k modelu sémantického webu. Pro zápis tříd a predikátů modelu je využito popisovaného nástroje Jena, jenž poskytuje API umožňující ontologický přístup k modelu na úrovni jazyka OWL. Dle načtených dat jsou tak postupně vytvářeny požadované třídy, kterým jsou nastaveny popisné sémantické anotace, a zároveň jsou zařazeny do hierarchického systému prostým nastavením rodičovských tříd či potomků. Predikáty modelu jsou zapisovány obdobným způsobem, přičemž každému predikátu je navíc nastaven definovaný rozsah ({\it rdfs:range}) a doména ({\it rdfs:domain}).

Po dokončení zápisu modelu sémantického webu je přistoupeno k vytváření tabulek relační databáze, což je umožněno díky spojení poskytnutému knihov-\\nou SemWebModelDbConnector při jeho navazování v kroku před zápisem sémantického modelu. Vytváření tabulek je prováděno pouhým vykonáváním SQL příkazů {\it CREATE TABLE} pro všechny požadované tabulky lišící se pouze svým názvem a datovým typem atributu {\it DATA} (jež slouží k uchování rozsáhlých datových souborů). 

\subsection{Vytvoření testovacích dat}
\hspace{0.65cm}Aby bylo možné vytvořený model otestovat, je vhodné zajistit i generování testovacích dat. Generování těchto dat zajišťuje třída {\it SimpleDataCreator}, která vytváří pseudonáhodná data v podobě instancí modelem definovaných tříd. Každé instanci jsou navíc přiřazeny hodnoty pro všechny predikáty, jež mají doménu shodnou s rodičovskou třídou zmíněné instance. Rozsah generovaných dat je možné specifikovat prostřednictvím celého čísla, které určuje počet generovaných instancí každé třídy.

Pro snadné použití tohoto nástroje má aplikace implementované grafické uživatelské prostředí s využitím Java knihovny Swing. Po spuštění aplikace se zobrazí okno dle obrázku 8.2, jež slouží ke specifikaci databázového připojení a nastavení parametrů modelu.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.8]{Creator.jpg}
\caption{Okno nástroje pro vytváření modelu}
\end{center}
\end{figure}

Položka {\it ConnectionType} slouží k výběru cílové databáze modelu (Oracle nebo Virtuoso), jejíž URI je zadáváno v poli {\it Database URI}. Položka {\it Model name} určuje název vytvářeného modelu, jehož popisný XML soubor je zadáván v poli {\it Model file}. Nezbytnou položkou pro spojení s databází jsou uživatelské jméno a heslo v položkách {\it Username} a {\it Password}. Pole {\it Namespace} slouží pro definici URI prefixu všech vytvářených entit modelu, neboť XML soubor popisující model obsahuje pouze lokální části hodnot URI identifikátorů. Poslední pole {\it Table prefix} určuje prefix názvu všech vytvářených tabulek, čímž je později možné v rámci celé relační databáze jednoduše identifikovat tabulky tohoto modelu. 
Zaškrtávací políčko {\it Create simple data} slouží k~rozhodnutí, zda generovat testovací data, jejichž velikost určuje položka {\it Simple data size}. Poslední nastavitelná položka je políčko {\it Remove model}, jehož zaškrtnutím bude specifikovaný model smazán namísto jeho vytvoření.
Jednoduchý uživa-\\telský manuál pro použití tohoto nástroje je součásti přílohy A. Veškeré implementační detaily tohoto nástroje jsou zřejmé z komentova-\\ných zdrojových kódů.


\section{Využití modelu}
\hspace{0.65cm}V rámci zápisu navrženého modelu do hybridní databáze bylo využito API frameworku Jena, který umožňuje jednoduchou práci s konstrukcemi sémantického webu na úrovni jazyka OWL. Pro další praktické využití vznik-\\lého modelu portálu je ovšem toto API příliš jednoduché, neboť neposkytuje metody pro zpracování komplexnějších operací. Z tohoto důvodu vznikl požadavek na vytvoření knihovny, která by sloužila jako nadstavba tohoto frameworku a poskytovala API umožňující snáze provádět typické operace datové vrstvy EEG/ERP portálu. 

Implementovaná knihovna SemWebModelApi, jež byla vytvořena v rámci této práce, poskytuje k cílovému modelu API podobným způsobem jako Jena a umožňuje jednoduchou práci s těmito daty, což je demonstrováno testovací aplikací popsanou v následující kapitole. Operace nad modelem dostupné prostřednictvím API navržené knihovny budou kategoricky rozdělené a popsa-\\né v následujících odstavcích.



\subsection{Operace čtení}
\hspace{0.65cm}Knihovna SemWebModelApi poskytuje přístup k datovému modelu pro-\\střednictvím metod třídy {\it PortalModel}. Operace čtení realizované implemento-\\vanými metodami umožňují práci se třídami, jejich instancemi a s predikáty. Pro získání tříd modelu slouží metody {\it listParentClasses} a {\it listSubClasses}, které umožňují získat URI identifikátory jednotlivých tříd a vytvořit na jejich základě hierarchický strom. Ten může později sloužit jako vstupní bod modelu, který bude poskytovat základní navigaci pro přístup k dalším objektům, kterými jsou především instance tříd, dle konvencí Jeny označované jako „{\it Individual}“. Pro přístup k těmto instancím slouží především metoda {\it listClassInstances}, která vrací potomky třídy předané prostřednictvím jejího URI. Tato metoda vrací list instancí třídy {\it Item} sloužící jako obalující prvek objektů modelu. Tato abstraktní třída má dva potomky {\it LiteralItem} obalující literály modelu a {\it UriItem}, jež umožňuje nést instanci třídy, případně predikát. Každá instance třídy {\it UriItem} nese URI obalovaného objektu a umožňuje svými metodami získávat další prvky vázané na tento objekt. To je klíčová vlastnost knihovny, která umožňuje s  modelem pracovat v souladu s principy sémantického webu, neboť je možné pro vybranou instanci třídy získat její predikáty vázané objekty, které jsou opět předávané jako instance třídy {\it UriItem} (pokud není cílovým objektem literál). V důsledku je tak možné prostřednictvím jediného subjektu procházet postupně model a získávat požadované informace včetně cílových  koncových literálů. Ty jsou reprezento-\\vány instancemi třídy {\it LiteralItem}, která nese datový typ a příslušnou hodnotu tohoto literálu.

Třída {\it UriItem} disponuje metodami umožňujícími získání seznamu prediká-\\tů vázaných k instanci třídy, díky čemuž je možné pro každý objekt získat informace o jeho dostupných vlastnostech a pouze vybranou vlastnost dále zkoumat bez načítání nepotřebných dat což je možné díky nesené vazbě na model v každé instanci {\it UriItem}. Tento způsob umožňuje získávání vybraných informací o dané instanci třídy. Získání těchto instancí pro vybranou třídu je, jak již bylo zmíněno, možné voláním metody {\it listClassInstances} třídy {\it PortalModel}. Aby nebylo nutné při hledání konkrétní instance provádět prů-\\chod celým listem, je možné nastavit prostřednictvím parametru metody filtr, který bude provádět restrikci položek navráceného listu. 

\subsection{Filtrování}
\hspace{0.65cm}Pro nastavení výběru navrácených instancí třídy slouží systém podmínek definujících vlastnosti požadovaných objektů. Každý vytvářený filtr je tvořen množinou podmínek v logickém součtu, přičemž každá tato podmínka je tvořena další množinou podmínek v logickém součinu. Ve výsledku je tak možné nastavit libovolnou kombinaci nutných a postačující podmínek filtrová-\\ní. Tato navržená koncepce je patrná z UML diagramu tříd filtrování na obrázku 8.3.

Z tohoto obrázku je patrné, že díky rodičovské třídě {\it Condition} všech ostatních tříd je možné vytvářet i poměrně složitý systém podmínek, neboť každá podmínka může být tvořena množinou (listem) podmínek v logickém součtu či součinu. Výsledná koncová podmínka může být 4 typů, které jsou určené následujícími třídami:

\begin{itemize}
\item {\it \bf HasPropertyCondition} - umožňuje nastavit URI predikátu, na který musí mít dotazovaný 
subjekt vázaný objekt (jakýkoliv); např. podmínka že dotazovaná osoba musí mít nastavenou hodnotu e-mailové adresy, přičemž tato hodnota může být libovolná

\item {\it \bf HasPropertyLikeCondition} - umožňuje nastavit textový řetězec, který musí být obsažen v URI predikátu, svazující tento subjekt s~jiným objektem; např. podmínka pro řetězec „name“, že dotazovaná osoba musí mít nastavenou hodnotu nějakého jména, lhostejno zda {\it givenname} či {\it surname}
\item {\it \bf PropertyValEqCondition} - umožňuje nastavit textový řetězec, jehož hodnoty musí nabývat objekt vázaný nastaveným URI predikátu; např. podmínka pro osobu, jejíž příjmení musí nabývat hodnoty {\it Novák}
\item {\it \bf PropertyValLikeCondition} - umožňuje nastavit textový řetězec, jehož hodnota musí být obsažena v textové reprezentaci objektu vázaného nastaveným URI predikátu; např. podmínka pro osobu, jejíž přímení musí obsahovat řetězec {\it Novák} odpovídající objektům příjmení {\it Novák} i {\it Nováková}
\end{itemize}


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.5]{filter.jpg}
\caption{UML diagram tříd filtrování}
\end{center}
\end{figure}


\subsection{Operace zápisu}
\hspace{0.65cm}Zápis nových, resp. aktualizace stávajících dat modelu je možné realizovat opět prostřednictvím metod třídy {\it PortalModel}. Touto cestou lze vytvářet nové třídy (samostatně či jako potomky stávajících tříd), jejich instance a predikáty (opět s možností hierarchického uspořádání). Aktualizace stávajících hodnot objektů predikátem vázaných k instancím tříd, resp. přidávání nových hodnot je možné realizovat přímo prostřednictvím metod třídy {\it UriItem}, která danou instanci třídy nese. Obdobně lze aktualizovat metodou {\it updateValue} hodnoty existujících literálů ve třídě {\it LiteralItem},  které jsou vytvářeny jako nové hodnoty pro dané vlastnosti (predikáty) instancím tříd prostřednictvím meto-\\dy {\it addPropertyValue} třídy {\it UriItem}.


\subsection{Operace mazání}
\hspace{0.65cm}Požadavky na mazáni dat modelu lze opět realizovat prostřednictvím metod třídy {\it PortalModel}, jež umožňují odstranění stávajících tříd, jejich instancí a predikátů. Odstraněním stávajícího predikátu dojde k odstranění všech trojic modelu jež tento predikát obsahují. Ve výsledku tak všechny instance třídy, jež měly nějaký objekt vázaný tímto predikátem, o tento údaj přijdou. Odstranění koncových objektů vázaných existujícím predikátem k~instanci třídy je možné realizovat metodou {\it removeValue} třídy {\it LiteralItem} (jedná-li se o literál) nebo přímým odstraněním instance třídy metodou {\it removeIndividual} třídy {\it PortalModel} (jedná-li se o instanci třídy). V tomto případě nedojde k odstranění definovaného predikátu z modelu. Posledním mazatelným prvkem modelu jsou třídy, jejichž odstranění zajišťuje metoda {\it removeClasss} třídy {\it PortalModel}. Jejím voláním nad stávající třídou dojde k~odstranění této třídy včetně všech jejích instancí, potažmo i trojic vázaných na tyto instance. V důsledku tak odstraněním třídy dojde k odstranění všech vazeb mezi instancemi nedotčených tříd na rušené instance tříd, neboť jejich odstraněním pozbývají tyto vazby smyslu.

Všechny výše popsané operace jsou patrné z UML diagramu tříd na obrázku 8.4. Detailnější představu o podporovaných operacích potažmo imple-\\mentovaných metodách je možné získat z Javadoc dokumentace obsahující podrobný popis všech metod, jejichž názvy jsou významové.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.37]{api.jpg}
\caption{UML diagram tříd veřejného API knihovny SemWebModelApi}
\end{center}
\end{figure}


\subsection{Přístup k relačním datům}
\hspace{0.65cm}Pro sjednocený přístup k datům relační části modelu je využito shody názvů (bez definovaného prefixu) relačních tabulek s lokální částí názvu URI příslušných tříd modelu. Název navržené tabulky modelu bez prefixu {\it EEG} má hodnotu {\it DATA\_FILE}, stejně jako lokální název třídy {\it data\_file} (nerozlišujeme-li velikost písmen), bez namespace prefixu, čímž je vytvořena pomyslná vazba mezi záznamy tabulky a instancemi třídy {\it data\_file}. Metodami {\it hasIndividual-\\Table} a {\it hasIndividualFile} třídy {\it PortalModel} je pak při dodržení zmíněných konvencí možné zjistit, zda k instancím určité třídy existuje relační tabulka, resp. soubory vázáné na konkrétní instance. Tyto soubory je pak možné nahrávat a aktualizovat voláním metod {\it uploadIndividualDataFile} a {\it update-\\IndividualDataFile} třídy {\it PortalModel}. Názorná ukázka tohoto přístupu je realizována testovací aplikací popsanou v následující kapitole.


\chapter{Testování}
\hspace{0.65cm}Testování navrženého transformovaného datového modelu a knihovny SemWebModelApi poskytující API pro operace modelu bude provedeno po stránce funkční i výkonnostní. Touto cestou by měla být ověřena použitelnost navrženého modelu jako alternativní náhrady současného datového modelu EEG/ERP portálu.

\section{Funkční testování}
\hspace{0.65cm}Pro účely funkčního testování byla vytvořena aplikace s grafickým uživa-\\telským rozhraním, která slouží k vizualizaci datového modelu, k němuž přistupuje metodami knihovny SemWebModelApi. Tato testovací aplikace umožňuje zobrazení a procházení objektů datového modelu a zároveň dovoluje uživateli provádět nad modelem všechny operace popsané v kapitole 8.3 poměrně jednoduchým způsobem. Cílem této aplikace ovšem není vytvoření uživatelsky přívětivého nástroje pro práci s modelem, ale pouze zajištění komfortnějšího způsobu testování modelu spolu s API vytvořené knihovny jež jsou výstupem této práce.


Testovací aplikace je implementována s využitím Java knihovny Swing, jež zajišťuje vytvoření celého grafického rozhraní. Po jejím spuštění se zobrazí obdobné okno jako v případě aplikace pro tvorbu modelu, jenž slouží k zadání údajů pro spojení s databází. Aplikace nabízí na výběr připojení k databázi Oracle nebo Virtuoso, k čemuž je nutné vyplnit URI cestu k databázi, název (sémantického) modelu a uživatelské jméno a heslo pro přihlášení. Dalšími nutnými údaji jsou jmenný prostor modelu ({\it namespace}) a tabulkový prefix. Pro všechny zmíněné údaje je nutné zadat stejné hodnoty jako v případě aplikace pro tvorbu modelu (je-li požadavkem připojení k tomuto modelu). Poslední volitelnou položkou je {\it Reasoner type}, která slouží k volbě použitého reasoneru. Aplikace nabízí tzv. mělký ({\it Shallow}) a hluboký ({\it Deep}) reasoner, jež se liší hloubkou procházení modelu při jednotlivých dotazech, což se logicky odráží na rychlosti testovací aplikace.

Po úspěšném navázání spojení s databází je zobrazeno okno testovací aplikace dle obrázku 9.1.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.60]{mainFrame.jpg}
\caption{Hlavní okno testovací aplikace}
\end{center}
\end{figure}


Hlavní menu aplikace poskytuje možnost exportování načteného modelu do souboru. Tuto funkcionalitu poskytuje framework Jena, který zajišťuje zápis ontologického modelu v syntaxi RDF/XML. Levý panel aplikace zobra-\\zuje hierarchický strom tříd modelu. Jeho vizualizaci zajišťuje komponenta {\it JTree} pro tvorbu stromů, jejíž první úroveň listů tvoří URI všech tříd bez definovaných rodičů získaný metodou {\it listParentClasses} třídy {\it PortalModel} knihovny SemWebModelApi. Pro každou tuto třídu jsou postupně získáni její potomci, kteří jsou následně ve stromu hierarchicky zobrazeni. Výběrem konkrétního listu, jenž reprezentuje danou třídu je díky registrovanému poslu-\\chači stromu zobrazen ve spodním panelu editovatelný popis této třídy (viz atribut {\it description} elementů tříd XML souboru modelu). Prostřednictvím spodních tlačítek levého panelu je možné vybranou třídu stromu odstranit, což je realizováno voláním dříve popisované metody {\it removeClasss} třídy {\it Portal-\\Model}. Přidání nové třídy je možné provést v příslušném dialogu otevíraném stiskem tlačítka {\it Add class}. Tomuto dialogu je předáno URI aktuálně vybrané třídy stromu, čímž je možné nově vytvářenou třídu nastavit jako potomka vybrané třídy.

Pravá část hlavního panelu aplikace ve své horní části obsahuje komponen-\\tu umožňující listování a výběr instancí třídy, jež je aktuálně vybraná ve stromu tříd v levém panelu okna programu. Nad tímto listem instancí je možné nastavit filtr tlačítkem {\it Set filter}, které otevírá dialog obsahující list podmínek v součinovém tvaru. Podmínky je možné přidávat, odstraňovat či editovat stávající podmínky. Přidáním nové nebo editací stávající podmínky se zobrazí dialog s listem podmínek v součtovém tvaru. Nad tímto listem je možné provádět stejné operace jako v případě podmínek v součinovém tvaru. Editací či přidáním podmínky listu podmínek v součtovém tvaru se zobrazí dialog, který slouží pro nastavení koncové podmínky. Na výběr jsou dispozici 4 druhy podmínek, jak je popsáno v kapitole 8.3.2.


Výběrem instance třídy z listovací komponenty horního pravého panelu testovací aplikace se v prostředním panelu zobrazí list všech URI predikátů a objektů svázaných s touto instancí. V případě, že objekt je literálem, je zobrazena jeho textová reprezentace v editovatelném textovém poli, jež umožňuje hodnoty aktualizovat či odstraňovat. Je-li objektem instance jiné třídy, pak je zobrazena komponenta umožňující výběr z instancí této třídy, kde vybranou položkou je ta, která je objektem. Tlačítkem {\it Go} nacházejícím se za touto komponentou je možné přejít k vybrané instanci, jejíž predikáty s objekty se zobrazí namísto predikátů stávající instance.

V případě, že vybraná třída má v relační části datového modelu odpovídají-\\cí tabulku, je v listu predikátů a objektů vybrané instance zobrazeno na konci tlačítko umožňující nahrání, aktualizaci či stažení příslušného souboru k této instanci. 
Instance tříd je možné stejně jako třídy přidávat a odstraňovat využitím příslušných tlačítek ve spodní části pravého panelu okna aplikace.


Pro přiřazení nových vlastností instanci třídy prostřednictvím predikátů a hodnot jimi vázaných objektů slouží tlačítko {\it Add property}, které otevírá nové dialogové okno dle obrázku 9.2.


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.65]{propertyFrame.jpg}
\caption{Okno pro nastavení predikátu modelu testovací aplikace}
\end{center}
\end{figure}

Toto okno obsahuje v levé části strom predikátů, jejichž doménou je rodičovská třída aktuálně vybrané instance v hlavním okně. S predikáty lze provádět obdobné operace jako se třídami v hlavním okně. Výběrem predikátu ve stromu dojde v pravém panelu okna k zobrazení komponenty sloužící k~nastavení objektu, jenž bude vybraným predikátem svázán k instanci vybrané v hlavním okně aplikace. V případě, že rozsahem ({\it rdfs:range}) vybra-\\ného predikátu je třída modelu, komponenta v pravém panelu okna pak umožňuje výběr z instancí této třídy. V opačném případě, kdy rozsahem predikátu je primitivní datový typ (řetězec, číslo...), zobrazuje pravý panel komponentu umožňující zadat textovou podobu hodnoty, jež ponese nově vzniklý literál vytvořený jako objekt vázaný vybraným predikátem k vybrané instanci třídy. 

Tento mechanismus přidávání predikátů umožňuje vytvořit objekt a novým predikátem jej přiřadit k libovolné instanci třídy, čímž je možné této instanci jednoduše dodat požadovanou informaci, což v původním relačním modelu portálu realizovaly tabulky obsahující ve svém názvu řetězce {\it PARAM\_DEF} a {\it PARAM\_VAL}. Podrobný popis použití testovací aplikace je možné získat prostřednictvím uživatelského manuálu v příloze B.

\subsection{Manuální testování aplikace}
\hspace{0.65cm}Vzhledem k tomu, že výše popsaná testovací aplikace zpřístupňuje navržený model, k čemuž využívá API vytvořené knihovny, je nutné ověřit správnost všech operací manuálním provedením níže popsaného testovacího scénáře. Tento scénář stručně popisuje seznam úkonů, které je nutné provést skrze grafické rozhraní testovací aplikace a následně ověřit správnost výsledku provedené operace oproti popsanému API knihovny SemWebModelApi.

\begin{itemize}
\item Vytvoření nové třídy bez rodičovské třídy
\item Vytvoření nové třídy jako potomka existující třídy
\item Vytvoření nové třídy se sémantickým popiskem 
\item Změna sémantického popisku stávající třídy
\item Odstranění stávající třídy
\vspace{0.45cm}
\item Vytvoření nové instance třídy
\item Odstranění instance existující třídy
\vspace{0.45cm}
\item Vytvoření filtru s podmínkou Has property
\item Vytvoření filtru s podmínkou Has property like
\item Vytvoření filtru s podmínkou Has property value
\item Vytvoření filtru s podmínkou Has property value like
\item Vytvoření filtru s více než dvěma podmínkami v součinovém tvaru
\item Vytvoření filtru s více než třemi podmínkami v součtovém tvaru
\vspace{0.45cm}
\item Vytvoření filtru se dvěma podmínkami v součinovém tvaru, kde každá podmínka je tvořena dvěma podmínkami v součtovém tvaru
\vspace{0.45cm}
\item Aktualizace hodnoty literálu vázaného predikátem na instanci třídy
\item Odstranění literálu vázaného predikátem na instanci třídy
\item Aktualizace hodnoty instance vázané predikátem na instanci jiné třídy
\vspace{0.45cm}
\item Vytvoření nového predikátu s rozsahem datové třídy
\item Vytvoření nového predikátu s rozsahem základního datového typu
\item Odstranění existujícího predikátu
\item Vytvoření nového predikátu se sémantickým popiskem
\item Změna sémantického popisku stávajícího literálu
\item Přidání nového objektu literálu vázaného predikátem k instanci třídy
\item Přidání vazby stávajícím predikátem mezi dvěma instancemi odlišných tříd
\end{itemize}


Všechny kroky popsaného scénáře byly úspěšně provedeny, čímž byla ověřena správná funkčnost testovací aplikace.

\section{Výkonnostní testování}
\hspace{0.65cm}Aby bylo možné posoudit použitelnost navrženého modelu i z výkonnostní-\\ho hlediska, budou provedeny výkonnostní testy modelu naplněného testovací-\\mi daty. Testování bude prováděno nad oběma databázovými systémy, čímž bude možné posoudit jejich vhodnost pro uchování dat navrženého modelu. Datový model bude postupně třikrát naplněn testovacími daty lišícími se svým objemem, čímž bude možné ověřit rychlost operací nad modelem v závislosti na jeho rozsahu. Testovací scénář bude pokrývat operace pro čtení, vytváření, aktualizaci a mazání dat, jež budou reprezentovány typickými požadavky současné verze EEG/ERP portálu na relační databázi. Každý požadavek bude implementován jak do podoby dotazu sémantického webu, tak i do varianty SQL dotazu nad relační databází. Výsledně tak bude možné získat přibližné porovnání rychlosti vykonávání typických portálových požadavků nad původním a nově navrženým datovým modelem.

\subsection{Testovací data}
\hspace{0.65cm}Testovací data budou mít podobu pseudonáhodných hodnot, kterými budou v případě relační databáze zaplněny jednotlivé tabulky. V případě databáze sémantického modelu se bude jednat o instance definovaných tříd a~literály vázané prostřednictvím predikátů na tyto instance. Objem dat obou variant modelu bude pro účely vzájemného porovnávání naměřených hodnot volen stejného rozsahu ve smyslu sémantiky. Tím je myšlen stav, kdy relační model bude obsahovat stejný počet experimentů, osob, scénářů, rezervací a~dalších údajů jako sémantický datový model. Pro lepší představu tak bude uveden počet trojic sémantického modelu a k němu příslušný přibližný počet záznamů většiny tabulek relačního modelu. Například 100 záznamů/tabulka představuje 100 různých experimentů prováděných 100 různými osobami a~pod. Testovací data budou zvolena v následujících třech variantách lišících se svým objemem.


\begin{itemize}
\item {\bf Velikost A:} 60 000 trojic - 320 záznamů/tabulka
\item {\bf Velikost B:} 30 000 trojic - 160 záznamů/tabulka 
\item {\bf Velikost C:} 10 000 trojic - 54 záznamů/tabulka
\end{itemize}

\subsection{Testovací operace}
\hspace{0.65cm}Testovací operace jsou rozdělené do čtyř kategorií:

\begin{itemize}
\item operace vytváření {\bf C} 
\item operace čtení {\bf R} 
\item operace aktualizace {\bf U} 
\item operace mazání {\bf D} 
\end{itemize}

Následující seznam obsahuje popis jednotlivých operací, jejichž implemen-\\tace v podobě SQL dotazů, resp. volání metod knihovny SemWebModelApi je patrná ze zdrojových kódů testovacích tříd.

\begin{itemize}
\item {\bf C1 - Vytvoření nové osoby:} vytvoření nové osoby, které bude nastaveno uživatelské jméno, příjmení, datum narození, vzdělání a~skupi-\\nové členství 
\item {\bf C2 - Vytvoření nového experimentu:} přidání nového experimentu osobě a nastavení  parametrů experimentu
\item {\bf C3 - Přidání člena výzkumné skupině:} vytvoření nového skupino-\\vého členství vybrané osobě

\vspace{0.65cm}

\item {\bf R1 - Přihlášení uživatele:} nalezení hesla osoby dle zadaného uživatel-\\ského jména
\item {\bf R2 - Získání experimentů uživatele:} nalezení experimentů uživatele dle uživatelského jména a získání jeho parametrů - teplota měření, čas počátku měření a příjmení testované osoby
\item {\bf R3 - Získání skupiny uživatele dle rezervace:} nalezení osoby, která vytvořila rezervaci, a určení jména skupiny, jejíž je členem

\vspace{0.65cm}

\item {\bf U1 - Aktualizace e-mailu osoby:} aktualizace položky e-mail u osoby nalezené dle uživatelského jména
\item {\bf U2 - Aktualizace teploty měření experimentu:} nalezení experime-\\ntu uživatele a aktualizace položky teplota měření tohoto experimentu
\item {\bf U3 - Aktualizace počasí měření experimentu:} vytvoření nového počasí a jeho nastavení položce počasí (změna původní hodnoty) experi-\\mentu osoby

\vspace{0.65cm}

\item {\bf D1 - Smazání osoby:} odstranění vybrané osoby včetně všech jejích parametrů
\item {\bf D2 - Smazání experimentů osoby:} odstranění všech experimentů vybrané osoby
\item {\bf D3 - Smazaní e-mailu osoby:} odstranění položky e-mail u vybrané osoby



\end{itemize}


\subsection{Postup testování}
\hspace{0.65cm}Měření bude provedeno pro databázové systémy Virtuoso a Oracle. Pro každou množinu testovacích dat dané velikosti bude spuštěna sekvence testova-\\cích operací, kdy každá elementární operace bude provedena sekvenčně deset-\\krát po sobě a bude změřen celkový čas, který tato opakovaná operace trvala. Tato hodnota bude zaznamenána do tabulky. Například čas uvedený u položky C1 znamená dobu trvání potřebnou k vytvoření 10 nových osob.
Měření nad danou množinou dat bude provedeno nad sémantickým modelem pro oba typy reasonerů – mělký ({\it Shallow}), hluboký ({\it Deep}) a nad relačním modelem.

\subsection{Testovací prostředí}
\hspace{0.65cm}Testování bude provedeno na počítači s procesorem Intel Core I3 M380 (4 jádra, 2,53 GHz), operační pamětí 8 GB a operačním systémem Widows 7 Professional 64-bit.

Pro testování nad databázovým systémem Virtuoso je využita lokální instalace Virtuoso Open-Source Edition 2012-08-02 na testovacím počítači. Pro testování nad databázovým systémem Oracle je využit vzdálený školní server Katedry informatiky a výpočetní techniky, na kterém běží současná testovací databáze portálu Oracle 11g.

\subsection{Naměřené hodnoty}

Význam záhlaví jednotlivých sloupců tabulek 9.1 a 9.2 je následující:

\begin{itemize}
\item {\bf Shallow} - doba trvání operace nad navrženým modelem při použití mělkého reasoneru
\item {\bf Deep} - doba trvání operace nad navrženým modelem při použití hlubo-\\kého reasoneru
\item {\bf RDB} - doba trvání operace nad původním relačním modelem
\end{itemize}


{\bf Databázový systém Virtuoso}




\begin{table}[htbp!]
%\begin{sidewaystable}
\begin{center}

\begin{tabular} { | >{\centering} m{1.15cm} |  > {\centering} m{0.95cm} | > {\centering} m{0.85cm} | > {\centering} m{0.75cm} | > {\centering} m{0.95cm} | > {\centering} m{0.85cm} | > {\centering} m{0.75cm} | > {\centering} m{0.95cm} | > {\centering} m{0.85cm} | > {\centering} m{0.75cm} |} 

\hline
\multicolumn{10}{|c|}{\bf Doba trvání operací [ms]}\tabularnewline
\hline
{\bf data} & \multicolumn{3}{c|}{C (10 000 trojic)} & \multicolumn{3}{c|}{B (30 000 trojic)} & \multicolumn{3}{c|}{A (60 000 trojic)} \tabularnewline
\hline
{} & {\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB} &{\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB} & {\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB}  \tabularnewline
\hline
\hline

{\bf C1} & {\scriptsize 693} & {\scriptsize 7 549} & {\scriptsize 9} & {\scriptsize 934} & {\scriptsize 7 899} & {\scriptsize 13} & {\scriptsize 1 795} & {\scriptsize 8 198} & {\scriptsize 11}  \tabularnewline
\hline
{\bf C2} & {\scriptsize 2 304} & {\scriptsize 24 185} & {\scriptsize 27} & {\scriptsize 2 897} & {\scriptsize 24 538} & {\scriptsize 29} & {\scriptsize 4 085} & {\scriptsize 26 974} & {\scriptsize 41}  \tabularnewline
\hline
{\bf C3} & {\scriptsize 620} & {\scriptsize 11 592} & {\scriptsize 11} & {\scriptsize 1 030} & {\scriptsize 12 646} & {\scriptsize 10} & {\scriptsize 2 600} & {\scriptsize 13 447} & {\scriptsize 21}  \tabularnewline


\hline
\hline
{\bf R1} & {\scriptsize 846} & {\scriptsize 3 100} & {\scriptsize 8} & {\scriptsize 1 516} & {\scriptsize 3 900} & {\scriptsize 10} & {\scriptsize 2 385} & {\scriptsize 4 810} & {\scriptsize 9}  \tabularnewline
\hline
{\bf R2} & {\scriptsize 1 281} & {\scriptsize 5 037} & {\scriptsize 16} & {\scriptsize 3 044} & {\scriptsize 6 709} & {\scriptsize 14} & {\scriptsize 5 284} & {\scriptsize 8 466} & {\scriptsize 15}  \tabularnewline
\hline
{\bf R3} & {\scriptsize 1 891} & {\scriptsize 4 543} & {\scriptsize 8} & {\scriptsize 2 842} & {\scriptsize 6 684} & {\scriptsize 9} & {\scriptsize 4 158} & {\scriptsize 8 980} & {\scriptsize 12}  \tabularnewline
\hline
\hline



{\bf U1} & {\scriptsize 718} & {\scriptsize 16 560} & {\scriptsize 8} & {\scriptsize 1 574} & {\scriptsize 17 328} & {\scriptsize 13} & {\scriptsize 2458} & {\scriptsize 19 156} & {\scriptsize 16}  \tabularnewline
\hline
{\bf U2} & {\scriptsize 1 553} & {\scriptsize 26 720} & {\scriptsize 8} & {\scriptsize 2 122} & {\scriptsize 29 506} & {\scriptsize 11} & {\scriptsize 5 073} & {\scriptsize 41 384} & {\scriptsize 17}  \tabularnewline
\hline
{\bf U3} & {\scriptsize 1 522} & {\scriptsize 35 756} & {\scriptsize 16} & {\scriptsize 2 843} & {\scriptsize 36 860} & {\scriptsize 16} & {\scriptsize 4 477} & {\scriptsize 45 142} & {\scriptsize 18}  \tabularnewline
\hline
\hline





{\bf D1} & {\scriptsize 2 820} & {\scriptsize 37 312} & {\scriptsize 9} & {\scriptsize 2 917} & {\scriptsize 37 738} & {\scriptsize 15} & {\scriptsize 4 590} & {\scriptsize 38 236} & {\scriptsize 13}  \tabularnewline
\hline
{\bf D2} & {\scriptsize 2 688} & {\scriptsize 48 400} & {\scriptsize 8} & {\scriptsize 4 953} & {\scriptsize 48 464} & {\scriptsize 6} & {\scriptsize 7 289} & {\scriptsize 54 062} & {\scriptsize 7}  \tabularnewline
\hline
{\bf D3} & {\scriptsize 625} & {\scriptsize 16 197} & {\scriptsize 6} & {\scriptsize 1 102} & {\scriptsize 17 950} & {\scriptsize 5} & {\scriptsize 2 563} & {\scriptsize 18 174} & {\scriptsize 6}  \tabularnewline
\hline

\end{tabular}

\end{center}
\caption{Naměřené doby trvání operací pro Virtuoso}
\end{table}
%\end{sidewaystable}

Graf na obrázku 9.3 zobrazuje doby trvání jednotlivých operací nad navrženým modelem pro daná testovací data při použití mělkého reasoneru. 

Graf na obrázku 9.4 zobrazuje doby trvání jednotlivých operací nad navrženým modelem pro daná testovací data při použití hlubokého reasoneru.

\newpage


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.45]{virtuosoShallow.jpg}
\caption{Doby trvání operací v závislosti na velikosti testovacích dat pro mělký reasoner nad databází Virtuoso}
\end{center}
\end{figure}


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.45]{virtuosoDeep.jpg}
\caption{Doby trvání operací v závislosti na velikosti testovacích dat pro hluboký reasoner nad databází Virtuoso}
\end{center}
\end{figure}

\newpage


{\bf Databázový systém Oracle}


\begin{table}[htbp!]
%\begin{sidewaystable}
\begin{center}

\begin{tabular} { | >{\centering} m{0.7cm} |  > {\centering} m{1.01cm} | > {\centering} m{1.25cm} | > {\centering} m{0.65cm} | > {\centering} m{0.95cm} | > {\centering} m{1.25cm} | > {\centering} m{0.65cm} | > {\centering} m{0.99cm} | > {\centering} m{1.25cm} | > {\centering} m{0.65cm} |} 

\hline
\multicolumn{10}{|c|}{\bf Doba trvání operací [ms]}\tabularnewline
\hline
{\bf data} & \multicolumn{3}{c|}{C (10 000 trojic)} & \multicolumn{3}{c|}{B (30 000 trojic)} & \multicolumn{3}{c|}{A (60 000 trojic)} \tabularnewline
\hline
{} & {\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB} &{\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB} & {\scriptsize \bf Shallow} & {\scriptsize \bf Deep} & {\scriptsize \bf RDB}  \tabularnewline
\hline
\hline
{\bf R1} & {\scriptsize 14 981} & {\scriptsize 94 164} & {\scriptsize 145} & {\scriptsize 47 480} & {\scriptsize 116 530} & {\scriptsize 130} & {\scriptsize 64 650} & {\scriptsize 139 273} & {\scriptsize 129}  \tabularnewline
\hline
{\bf R2} & {\scriptsize 30 649} & {\scriptsize 638 583} & {\scriptsize 177} & {\scriptsize 90 589} & {\scriptsize 648 194} & {\scriptsize 175} & {\scriptsize 130 991} & {\scriptsize 671 522} & {\scriptsize 181}  \tabularnewline
\hline
{\bf R3} & {\scriptsize 24 345} & {\scriptsize 32 804} & {\scriptsize 109} & {\scriptsize 76 412} & {\scriptsize 76 860} & {\scriptsize 121} & {\scriptsize 129 702} & {\scriptsize 136 253} & {\scriptsize 117}  \tabularnewline
\hline
\hline



{\bf U1} & {\scriptsize 14 805} & {\scriptsize 331 582} & {\scriptsize 109} & {\scriptsize 37 309} & {\scriptsize 354 809} & {\scriptsize 117} & {\scriptsize 63 727} & {\scriptsize 443 643} & {\scriptsize 109}  \tabularnewline
\hline
{\bf U2} & {\scriptsize 21 645} & {\scriptsize 571 614} & {\scriptsize 130} & {\scriptsize 73 350} & {\scriptsize 645 015} & {\scriptsize 124} & {\scriptsize 193 903} & {\scriptsize 695 671} & {\scriptsize 124}  \tabularnewline
\hline
{\bf U3} & {\scriptsize 31 294} & {\scriptsize 654 871} & {\scriptsize 242} & {\scriptsize 80 500} & {\scriptsize 745 326} & {\scriptsize 234} & {\scriptsize 134 305} & {\scriptsize 792 425} & {\scriptsize 225}  \tabularnewline
\hline
\hline



{\bf C1} & {\scriptsize 19 963} & {\scriptsize 97 377} & {\scriptsize 112} & {\scriptsize 38 187} & {\scriptsize 100 027} & {\scriptsize 99} & {\scriptsize 157 325} & {\scriptsize 114 963} & {\scriptsize 96}  \tabularnewline
\hline
{\bf C2} & {\scriptsize 43 137} & {\scriptsize 507 675} & {\scriptsize 330} & {\scriptsize 65 284} & {\scriptsize 523 237} & {\scriptsize 343} & {\scriptsize 906 74} & {\scriptsize 537 560} & {\scriptsize 314}  \tabularnewline
\hline
{\bf C3} & {\scriptsize 15 520} & {\scriptsize 262 620} & {\scriptsize 116} & {\scriptsize 41 400} & {\scriptsize 302 746} & {\scriptsize 125} & {\scriptsize 66 029} & {\scriptsize 309 472} & {\scriptsize 108}  \tabularnewline
\hline
\hline

{\bf D1} & {\scriptsize 44 174} & {\scriptsize 857 961} & {\scriptsize 113} & {\scriptsize 60 040} & {\scriptsize 972 379} & {\scriptsize 127} & {\scriptsize 85 639} & {\scriptsize 1 024 754} & {\scriptsize 108}  \tabularnewline
\hline
{\bf D2} & {\scriptsize 52 071} & {\scriptsize 1 230 946} & {\scriptsize 126} & {\scriptsize 96 824} & {\scriptsize 1 253 632} & {\scriptsize 123} & {\scriptsize 164 563} & {\scriptsize 1 445 638} & {\scriptsize 121}  \tabularnewline
\hline
{\bf D3} & {\scriptsize 14 148} & {\scriptsize 337 068} & {\scriptsize 110} & {\scriptsize 36 348} & {\scriptsize 374 125} & {\scriptsize 116} & {\scriptsize 62 920} & {\scriptsize 394 482} & {\scriptsize 110}  \tabularnewline
\hline

\end{tabular}

\end{center}
\caption{Naměřené doby trvání operací pro Oracle}
\end{table}
%\end{sidewaystable}

Graf na obrázku 9.5 zobrazuje doby trvání jednotlivých operací nad navrženým modelem pro daná testovací data při použití mělkého reasoneru. 

Graf na obrázku 9.6 zobrazuje doby trvání jednotlivých operací nad navrženým modelem pro daná testovací data při použití hlubokého reasoneru.

\newpage


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.45]{oracleShallow.jpg}
\caption{Doby trvání operací v závislosti na velikosti testovacích dat pro mělký reasoner nad databází Oracle}
\end{center}
\end{figure}


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.45]{oracleDeep.jpg}
\caption{Doby trvání operací v závislosti na velikosti testovacích dat pro hluboký reasoner nad databází Oracle}
\end{center}
\end{figure}

\newpage



\subsection{Diskuze výsledků}
\hspace{0.65cm}Z tabulek naměřených hodnot trvání jednotlivých operací, resp. dle grafů zobrazující závislosti těchto časů na velikosti datového modelu lze vyvodit následující závěry:

\begin{itemize}
\item Doba trvání operací nad relačním modelem je značně kratší než v~případě datového modelu sémantického webu
\item Rychlost operací při použití mělkého reasoneru je významě závislá na velikosti datového modelu
\item Velikost datového modelu má poměrně malý vliv na rychlost operací při použití hlubokého reasoneru
\item Mělký reasoner je značně rychlejší oproti hlubokému reasoneru
\end{itemize}


Srovnáním doby trvání operací nad relačním a sémantickým modelem je patrné, že relační model poskytuje o několik řádů rychlejší zpracování jak v případě databázového systému Virtuoso, tak i Oracle. Pohledem na doby trvání operací nad relačním modelem v závislosti na jeho velikosti lze usoudit, že vliv velikosti modelu (při zvoleném řádu rozsahu) je natolik malý, že nedosahuje možnosti přesného měření dle zvoleného způsobu. V~důsledku jsou tak hodnoty trvání operací pro relační model v tabulkách 9.1 a 9.2 spíše orientační a slouží především pro porovnání řádů časů mezi modely. Z~dalšího porovnání hodnot tabulek 9.1 a 9.2 je patrné, že zpracování operací systémem Virtuoso je řádově rychlejší, než pro Oracle. To je způsobeno zejména skutečností, že testovaný systém Oracle byl umístěn na vzdáleném školním serveru, čímž byla doba zpracování navýšena o síťovou komunikaci a navíc mohl být systém vystaven dalšímu zatížení stran jiných aplikací např. testovací verzí portálu.

Vliv použitého reasoneru je dle naměřených hodnot patrný už na testova-\\cích datech nejmenšího objemu. Dalším poznatkem je skutečnost, že s růstem objemu dat se při použití hlubokého reasoneru prodlužuje doba zpracování operací jen minimálně. Ve výsledku se ovšem doba zpracování jedné operace při použití hlubokého reasoneru pohybuje v rozmezí hodnot 0,3 – 5,4 sekundy pro systém Virtuoso a 3,2 -144,5 sekundy pro systém Oracle, což tento reasoner činní prakticky nepoužitelným. 

Při použití mělkého reasoneru narůstá doba potřebná ke zpracování operací úměrně s velikostí modelu a nejvyšší naměřené hodnoty časů jedné operace pro data velikosti A činí v průměru 0,7 sekundy pro systém Virtuoso a 19,3 sekundy pro Oracle. Mělký reasoner se tak při použití nad systémem Virtuoso jeví jako nejslibnější řešení přístupu k sémantickému modelu dat. 

Vzhledem k tomu, že rychlost operací nad sémantickým modelem dat je i~při použití mělkého reasoneru přibližně 100 krát nižší než v případě relačního modelu, je nutné zvážit reálné využití navrženého modelu. Po konzultaci s~výzkumnou skupinou se dospělo k závěru, že zamýšlené nasazení modelu je možné, avšak je podmíněno zajištěním výkonnějšího hardwaru pro databázový systém. V případě velkého nárůstů množství uchovávaných dat je později také nutné zřídit další navýšení hardwarových prostředků, což by mělo zajistit udržení dostatečného výkonu díky přibližně lineární závislosti trvání operací na velikosti datového modelu (při použití mělkého reasoneru).


\chapter{Závěr}
\hspace{0.65cm}Cílem této práce bylo navržení nového datového modelu EEG/ERP portálů s využitím technologií sémantického webu. V průběhu práce byla provedena analýza současného datového modelu portálu, jejímž cílem bylo nalezení aktuálních nedostatků a problémů modelu. Popisované technologie a nástroje sémantického webu umožnily provést analýzu obecného datového modelu založeného na této technologi,i díky čemuž bylo následně realizováno porovnání obecného relačního modelu se sémantickým. Na základě provedené analýzy byl navržen nový datový model portálu, který využívá relační databázi k uchování objemnějších datových celků a zbylá data ukládá v objektové podobě v jazyce RDFS do nerelační databáze. Tato práce popisuje postup celé transformace původního modelu portálu (včetně dodání nové sémantiky) na úrovni obecných pravidel, která jsou doprovázena praktickými ukázkami realizace včetně koncové podoby výsledného modelu.

Pro usnadnění realizace transformace datového modelu byla vytvořena aplikace, která na základě popisu modelu prostřednictvím XML souboru umožňuje zapsat navržený datový model do databázových systémů Virtuoso a Oracle, kde mohou být dále prakticky využívány. 
V rámci práce byla dále vytvořena knihovna poskytující API, jež umožňuje jednoduchou cestou provádět nad sémantickým modelem operace běžně požadované aplikační vrstvou portálu.


Za účelem ověření nových možností a popisovaných výhod navrženého modelu byla dále vytvořena testovací aplikace, která prostřednictvím jednodu-\\chého grafického rozhraní demonstruje možnosti uchování dodané sémantiky dat v modelu a také jednoduchost jeho dalšího dynamického rozšiřování.

Poslední část práce se zabývá výkonnostním testováním navrženého mode-\\lu, což je realizováno porovnáváním časů potřebných k vykonávání typických portálových operací nad datovým modelem. Ze získaných naměřených hodnot je patrná největší nevýhoda navrženého modelu, a to značná výkonnostní ztráta oproti původnímu modelu. Pro praktické využití a tudíž i získání všech popisovaných výhod navrhovaného modelu portálu je tedy nutné zajistit dostatečný výkon pro databázový systém a také zvážit výkonnostní požadavky na cílovou aplikaci EEG/ERP portálu.






\newpage
\thispagestyle{plain}
\noindent
{\bf \LARGE Seznam zkratek a pojmů}\\
%\addcontentsline{toc}{chapter}{Seznam zkratek a pojmů}

\noindent
\begin{description}
\item[API] Application Programming Interface, rozhraní pro programování aplikací
\item[EEG] Electroencephalography, metoda vyšetření elektrické aktivity centrál-\\ního nervového
systému
\item[ERP] Event Related Potential, vyšetření reakcí mozku na vnější podněty
\item[OWL] Web Ontology Language, ontologický jazyk sémantického webu
\item[RDF] Resource Description Framework, metodika modelování informací \\v sémantickém webu
\item[SPARQL] SPARQL Protocol and RDF Query Language, dotazovací jazyk nad RDF grafy
\item[URI] Uniform Resource Identifier, jednotný identifikátor zdroje informací
\item[W3C] World Wide Web Consortium, organizace vyvíjející webové standardy
\item[XML] Extensible Markup Language, značkovací jazyk vyvinutý W3C
\item[XSD] XML Schema Definition, XML schéma popisující strukturu XML doku-\\mentu
\item[XSLT] Extensible Stylesheet Language Transformations, transformace sloužící k~převodu XML dat
\item[MVC] Model-View-Controller, návrhový vzor, architektura aplikace
\item[JSP] JavaServer Pages, technologie pro tvorbu dynamických webových stránek
\end{description}


\bibliography{diplomka}
\bibliographystyle{plain}


\appendix
\newpage


\thispagestyle{plain}

\noindent
{\bf \LARGE Přílohy}
\setcounter{chapter}{1}

\newpage
\thispagestyle{plain}
\section*{{\LARGE A} Uživatelský manuál aplikace pro tvorbu \\modelu}
\hspace{0.65cm}Spuštění aplikace pro vytvoření modelu se provádí spuštěním dávkového souboru {\it runCreator.bat} (v prostředí Windows). Po jejím naběhnutí se zobrazí okno dle obrázku A.1. Význam jednotlivých vstupních položek jež, jsou označené červenými čísly je následující:

\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.8]{manualCreator.jpg}
\caption{Okno nástroje pro vytváření modelu}
\end{center}
\end{figure}


\begin{description}
\item[1] Výběr cílového databázového sytému pro zapisovaný model - Oracle nebo 
Virtuoso
\item[2] URI cesta ke zvolené databázi ve tvaru: {\it jdbc:<databáze>://<server>:<port>}
\item[3] Název vytvářeného sémantického modelu
\item[4] Cesta ke XML souboru s popisem modelu
\item[5] Uživatelské jméno pro přístup k databázi
\item[6] Uživatelské heslo pro přístup k databázi
\item[7] Jmenný prostor objektů vytvářeného modelu – tento prefix bude použit pro každý objekt popsaný ve vstupním XML souboru
\item[8] Prefix všech tabulek vytvářeného modelu – slouží k přiřazení tabulek relační databáze k sémantickému modelu
\item[9] Vytvoření testovacích dat, která budou zapsána do vytvářeného modelu
\item[10] Velikost testovacích dat – počet vytvářených instancí pro každou třídu
\item[11] Odstranění existujícího modelu – namísto vytvoření nového modelu dojde k odstranění existujícího, je nutné zadat cestu ke vstupnímu XML souboru, aby bylo možné odstranit i všechny relační tabulky přidružené k datovému modelu
\end{description}

\thispagestyle{plain}

Stisknutím tlačítka {\it Create} dojde k zahájení vytváření modelu, o jehož průběhu informuje nové okno zobrazující aktuální stav zápisu. V případě jakékoliv chyby při zápisu modelu jsou veškerá chybová hlášení zapisována do logovacího souboru v adresáři {\it ModelCreator}.


\newpage
\thispagestyle{plain}
\section*{{\LARGE B} Uživatelský manuál testovací aplikace}
\hspace{0.65cm}Testovací aplikace umožňuje vizualizaci datového modelu a provádění jeho úprav prostřednictvím grafického uživatelského rozhraní. Aplikace se spouští dávkovým souborem {\it runVisualizer.bat} (v prostředí Windows). Po spuštění aplikace je zobrazeno okno dle obrázku A.2, které slouží k zadání dat pro připojení k modelu. Význam jednotlivých vstupních položek, jež jsou označené červenými čísly je následující:


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.8]{manualTestConnect.jpg}
\caption{Okno připojení testovací aplikace}
\end{center}
\end{figure}

\begin{description}
\item[1] Výběr cílového databázového sytému pro zapisovaný model- Oracle nebo Virtuoso
\item[2] Výběr použitého reasoneru pro vizualizaci modelu – mělký ({\it Shallow})/hluboký ({\it Deep})
\item[3] URI cesta ke zvolené databázi ve tvaru: {\it jdbc:<databáze>://<server>:<port>}
\item[4] Název vytvářeného sémantického modelu
\item[5] Uživatelské jméno pro přístup k databázi
\item[6] Uživatelské heslo pro přístup k databázi
\item[7] Jmenný prostor objektů modelu – tento prefix bude předdefinován všem nově vytvářeným objektům prostřednictvím testovací aplikace 
\item[8] Prefix všech tabulek vytvářeného modelu – slouží k přiřazení tabulek relační databáze k sémantickému modelu
\end{description}


Po úspěšném připojení testovací aplikace k zadanému modelu se zobrazí okno dle obrázku A.3. V případě jakékoliv chyby při načítání modelu je zapsána detailní informace o této chybě do logovacího souboru v adresáři {\it ModelVisualizer}. 

\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.57]{manualTestMain.jpg}
\caption{Hlavní okno testovací aplikace}
\end{center}
\end{figure}

\thispagestyle{plain}
Hlavní okno testovací aplikace slouží k zobrazení tříd modelu a jejich instancí, které je možné dále prohlížet či modifikovat. Hlavní menu aplikace (1) umožňuje prostřednictvím položky {\it Export model} uložit datový model ve RDF/XML formátu do souboru. Levý panel aplikace (2) zobrazuje hierarchic-\\ký systém tříd modelu, kde je možné provádět jejich výběr dle URI identifiká-\\torů tříd. Výběrem třídy dojde k zobrazení jejího sémantického popisku ve spodním panelu (3), který umožňuje tento popis editovat a tlačítkem {\it Set description} (5) uložit. Třídy modelu je možné odstraňovat tlačítkem {\it Remove class} (6), čímž dojde i k odstranění všech instancí této třídy. Zároveň je možné vytvářet nové třídy tlačítkem {\it Add class} (7), kdy dojde k zobrazení dialogu, který slouží k definici URI identifikátoru třídy, sémantického popisku a~nastavení rodičovské třídy. Tato rodičovská třída je určena vybranou polož-\\kou v panelu tříd (2) a při vytváření třídy je možné zaškrtávacím políčkem určit, zda nová třída bude potomkem této třídy či nikoliv. Výběrem třídy v panelu (2) dojde k aktualizaci seznamu instancí tříd (7), přičemž první položka tohoto seznamu je zobrazena v hlavním pravém panelu aplikace. Z~tohoto seznamu (7) je možné provést výběr požadované instance třídy dle jejího URI či dále nastavit restriktivní výběr pro list těchto tříd nastavením filtru tlačítkem {\it Set filter} (9). Nastavení filtru se provádí v okně dle obrázku A.4, které umožňuje nastavení filtrovacích podmínek.


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.8]{manualTestFilterA.jpg}
\caption{Hlavní okno nastavení filtrovacích podmínek}
\end{center}
\end{figure}
\thispagestyle{plain}

Toto okno umožňuje přidávání nových (3), odstraňování (2) či aktualizaci stávajících (1) podmínek, které jsou vyhodnocovány jako logický součet výsledků dílčích podmínek, jež jsou nastaveny v okně dle obrázku A.5. 

\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.8]{manualTestFilterB.jpg}
\caption{Okno nastavení součinových podmínek}
\end{center}
\end{figure}

Toto okno umožňuje nastavení dílčích podmínek jako logický součin další množiny podmínek. Tyto součinové podmínky je možné opět přidávat (8), odstraňovat (7) či aktualizovat (6). Všechny dílčí součtové či součinové podmínky je možné hromadně uložit tlačítkem {\it Close} (5), (10) nebo je hromadně odstranit tlačítkem {\it Remove all} (4), (9). 
Koncové podmínky, jež tvoří množinu součinových podmínek, je možné nastavovat v okně dle obrázku A.6.



\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.8]{manualTestFilterC.jpg}
\caption{Okno nastavení koncových podmínek filtru}
\end{center}
\end{figure}

\thispagestyle{plain}

Toto okno umožňuje výběr (11) ze čtyř druhů podmínek popsaných v kapitole 8.3.2, kde jméno URI identifikátoru predikátu je zadáváno do horního textového pole (12) a hodnota cílového objektu vázaného predikátem je zadávána do spodního pole (13) (v případě, že ji daný typ podmínky vyžaduje).
Po uzavření okna pro nastavení filtru je možné provést aktualizace seznamu instancí tříd dle nastaveného filtru tlačítkem {\it Update} (8) dle obrázku A.3.

Hlavní pravý panel aplikace zobrazuje pro vybranou instanci třídy seznam predikátů a k nim vázaných objektů. V případě, že cílový objekt je primitivní-\\ho datového typu, je zobrazeno textové pole (10) s jeho textovou reprezentací, které umožňuje také aktualizaci hodnoty pouhou změnou obsahu tohoto pole a stiskem klávesy Enter. V případě potřeby úplného odstranění této hodnoty je možné textové pole vymazat a cílový objekt včetně svazujícího literálu bude opět stisknutím klávesy Enter odstraněn. V případě kdy, predikátem vázaný objekt je instancí jiné třídy, je zobrazena položka pro výběr instance cílové třídy (11), kde je předvybrána aktuálně nastavená instance. Stiskem tlačítka {\it Go} (12) je možné tuto instanci zobrazit a dále s ní pracovat.


Umístěním kurzoru na jméno predikátu je nad ním zobrazen jeho séman-\\tický popisek. V případě, že třída aktuálně prohlížené instance je vázána na relační tabulku, je jejím instancím v hlavním panelu zobrazeno tlačítko (12) pro nahrání datového souboru, které je po jeho úspěšném nahrání nahrazeno tlačítkem pro stažení a aktualizaci tohoto souboru. Instance tříd je možné odstraňovat tlačítkem {\it Remove instance} (16), vytvářet nové tlačítkem {\it Add instance} (14) či přidávat nové predikáty stávajícím instancím tlačítkem {\it Add property} (16), což je realizováno prostřednictvím nového okna tak, jak je znázorněno dle obrázku A.7.

\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.72]{manualTestProperty.jpg}
\caption{Okno nastavení predikátů}
\end{center}
\end{figure}


\thispagestyle{plain}

Toto okno slouží ke spravování predikátů určených doménou třídy instance vybrané v hlavním okně aplikace. Levý panel okna (1) umožňuje vybrat existující predikát, kterému lze ve spodním panelu (2) upravit sémantický popisek a aktualizovat jej tlačítkem {\it Set description} (4). Dále je možné prostřed-\\nictvím tlačítka {\it Remove property} (5) odstranit stávající predikát či vytvořit nový tlačítkem {\it Add propery} (3), což je realizováno novým oknem dle obrázku A.8.


\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.72]{manualTestAddProperty.jpg}
\caption{Okno vytvoření nového predikátu}
\end{center}
\end{figure}


První pole (1) tohoto okna slouží ke nastavení URI nového predikátu. Dále lze nastavit jeho rozsah (2), kterým může být primitivní datový typ či jiná třída. Položka {\it Description} (3) umožňuje nastavení sémantického popisku přidávaného predikátu. Jeho přidáním tlačítkem {\it Add} (4) dojde k aktualizaci dostupných predikátů v předchozím okně (viz obrázek A.7). Výběrem prediká-\\tu v tomto okně dojde v pravém panelu okna k zobrazení textového pole (6) pro zadání hodnoty nové objektu pro vybraný literál (je-li rozsah literálu primitivní datový typ) nebo se zobrazí položka pro výběr instance třídy (je-li rozsah literálu nastaven na jinou třídu). Přidání nového objektu vázaného na vybraný literál instance se provede stiskem tlačítka {\it Add}(7), čímž je následně aktualizována vybraná instance v hlavním okně.

\thispagestyle{plain}


\newpage
\thispagestyle{plain}
\section*{{\LARGE C} Navržený hierarchický systém tříd modelu}
\begin{verbatim}

<model>

<!-- DATA -->

<data_table name="article" type="text"/>
<data_table name="article_comment" type="text"/>
<data_table name="data_file" type="binary"/>
<data_table name="scenario" type="binary"/>

<!-- METADATA -->

<class name="article" 
    description="Text arcicle published by person."/>
<class name="article_comment" 
    description="Comment of article published by person."/>
<class name="reservation" 
    description="EEG research laboratory room reservation."/>

<class name="person" 
    description="Human being."/>
<class name="person/researcher" 
    description="Human being making EEG/ERP experiments."/>
<class name="person/test_subject" 
    description="Human beeing that is subject of EEG/ERP 
    experiments."/>

<class name="education_level" 
    description="Education level of human beeing."/>
<class name="research_group" 
    description="Union of human beings that makes EEG/ERP 
    experiments"/>
<class name="history" 
    description="EEG/ERP experiment download history."/>
<class name="experiment" 
    description="EEG/ERP experiment."/>
<class name="software" 
    description="Software used for EEG/ERP experiments."/>
<class name="hardware" 
    description="Hardware used for EEG/ERP experiments."/>
<class name="subject_group" 
    description="Union of human beeings that are EEG/ERP 
    experiments subjects."/>
\end{verbatim}

\thispagestyle{plain}

\begin{verbatim}
<class name="project_type" 
    description="Experiment project type."/>
<class name="artefact_removing_method" 
    description="Removing method of artifact."/>
<class name="weather" 
    description="Experiment weather condition."/>
<class name="disease" 
    description="Experiment test subject disease condition."/>
<class name="artefact" 
    description="Experiment artefact"/>
<class name="pharmaceutical" 
    description="Experiment pharmaceutical condition."/>
<class name="digitization" 
    description="Experiment digitization."/>
<class name="analysis" 
    description="Experiment analysis."/>
<class name="data_file" 
    description="Experiment EEG/ERP measuration data file."/>
<class name="scenario" 
    description="Experiment scenarion description."/>

<class name="electrode_configuration" 
    description="Configuration of measuring electrodes."/>
<class name="electrode_system"
     description="System of experiment electrodes."/>
<class name="electrode_location" 
    description="Location of experiment electrodes."/>
<class name="electrode_type" 
    description="Type of experiment used electrodes."/>
<class name="electrode_fix" 
    description="Fixing of electrodes."/>

<class name="stimulus" 
    description="Experiment stimulus."/>
<class name="stimulus_type" 
    description="Experiment stimulus type."/>
<class name="scenario_stimulus" 
    description="Stimulus of scenario."/>

<class name="group" 
    description="Union of human beings."/>
<class name="experiment_metadata" 
    description="Basic exeperiment metadata."/>
<class name="electrode" 
    description="Experiment electrode device."/>
<class name="scenario_metadata" 
    description="Experiment scenario."/>
\end{verbatim}

\thispagestyle{plain}

\begin{verbatim}
<!-- Class hierarchy -->

    <parent_class name="person">
        <child name="person/researcher"/>
        <child name="person/test_subject"/>
        <child name="education_level"/>
    </parent_class>

    <parent_class name="group">
        <child name="research_group"/>
        <child name="subject_group"/>
    </parent_class>

    <parent_class name="experiment_metadata">
        <child name="software"/>
        <child name="hardware"/>
        <child name="project_type"/>
        <child name="weather"/>
        <child name="disease"/>
        <child name="pharmaceutical"/>
        <child name="data_file"/>
        <child name="experiment"/>
    </parent_class>

    <parent_class name="electrode">
        <child name="electrode_configuration"/>
        <child name="electrode_system"/>
        <child name="electrode_location"/>
        <child name="electrode_type"/>
        <child name="electrode_fix"/>
    </parent_class>

    <parent_class name="scenario_metadata">
        <child name="stimulus"/>
        <child name="stimulus_type"/>
        <child name="scenario_stimulus"/>
        <child name="scenario"/>
    </parent_class>

    <parent_class name="article">
        <child name="article_comment"/>
    </parent_class>

\end{verbatim}

\thispagestyle{plain}



\newpage
\thispagestyle{plain}
\section*{{\LARGE D} ERA model databáze EEG/ERP portálu}
\hspace{0.65cm}ERA model EEG/ERP portálu \cite{_31} viz následující list
\newpage

\begin{figure}[htb!]
\begin{center}
\includegraphics[scale=0.1, angle=90]{EraFull.jpg}
\caption{Hlavní okno nastavení filtrovacích podmínek}
\end{center}
\end{figure}

\thispagestyle{plain}

\end{document}
